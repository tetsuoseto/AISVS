# C3 ניהול מחזור החיים של מודל & בקרת שינויים

## מטרת הבקרה

מערכות בינה מלאכותית חייבות ליישם תהליכי בקרת שינויים שמונעים שינויים במודל שאינם מורשים או מסוכנים מלהגיע לסביבת הייצור. בקרת זו מבטיחה את שלמות המודל לאורך כל מחזור החיים--מהפיתוח דרך הפריסה ועד הסרת השימוש--ומאפשרת תגובה מהירה לאירועים ושומרת על אחריות לכל השינויים.

מטרת אבטחה מרכזית: רק דגמים מורשים ואומתים מגיעים לייצור באמצעות תהליכים מבוקרים שמבטיחים שלמות, מעקב ויכולת שחזור.

---

## C3.1 אישור מודל ושלמות

רק מודלים מורשים בעלי שלמות מאומתת מגיעים לסביבות הייצור.

|   #   | תיאור                                                                                                                                             | רמה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 3.1.1 | ודא שכל הארטיפקטים של המודל (משקולות, הגדרות, טוקנייזרים) חתומים באמצעות חתימה דיגיטלית על ידי ישויות מורשות לפני הפריסה.                         |  1  |  D/V  |
| 3.1.2 | ודא כי שלמות המודל מאומתת בזמן הפריסה וכישלונות אימות חתימה מונעים טעינת המודל.                                                                   |  1  |  D/V  |
| 3.1.3 | ודא כי רשומות מוצא של המודל כוללות את זהות הגוף המוסמך, סכומי אימות של נתוני האימון, תוצאות בדיקות ולידציה עם מצב הצלחה/כישלון, וחותמת זמן יצירה. |  2  |  D/V  |
| 3.1.4 | ודא שכל האטריפיקטים של המודל משתמשים בגרסת סמנטית (MAJOR.MINOR.PATCH) עם קריטריונים מתועדים שמפרטים מתי כל רכיב בגרסה מתעדכן.                     |  2  |  D/V  |
| 3.1.5 | ודא שמעקב אחר תלויות שומר על מלאי בזמן אמת שמאפשר זיהוי מהיר של כל המערכות הצורכות משאבים.                                                        |  2  |   V   |

---

## C3.2 אימות מודל ובדיקות

על המודלים לעבור בדיקות אבטחה ובטיחות מוגדרות מראש לפני הפריסה.

|   #   | תיאור                                                                                                                                           | רמה | תפקיד |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 3.2.1 | ודא כי המודלים עוברים בדיקות אבטחה אוטומטיות הכוללות אימות קלט, סינון פלט והערכת בטיחות עם ספים מוסכמים מראש של מעבר/כישלון בארגון לפני הפריסה. |  1  |  D/V  |
| 3.2.2 | ודא שכשלי אימות חוסמים באופן אוטומטי את פריסת המודל לאחר אישור חריגה מפורש שניתן על ידי אנשי מוסמכים שמונו מראש, עם נימוקים עסקיים מתועדים.     |  1  |  D/V  |
| 3.2.3 | ודא שתוצאות הבדיקות חתומות בצורה קריפטוגרפית ומקושרות באופן שאינו ניתן לשינוי ל-hash של גרסת המודל הספציפית שנבדקת.                             |  2  |   V   |
| 3.2.4 | ודא כי פריסות חירום דורשות הערכת סיכון אבטחה מתועדת ואישור על ידי סמכות אבטחה שהוגדרה מראש בתוך מסגרות זמן שנקבעו מראש.                         |  2  |  D/V  |

---

## C3.3 פריסה מבוקרת ושחזור לגרסה קודמת

פריסות מודלים חייבות להיות מבוקרות, מנוטרות, וניתנות לביטול.

|   #   | תיאור                                                                                                                                                                                       | רמה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 3.3.1 | ודא שפריסות בייצור משלבות מנגנוני הפצה הדרגתית (פריסות קאנרי, פריסות כחול-ירוק) עם טריגרים לביטול אוטומטי המבוססים על שיעורי שגיאה שסוכמו מראש, גבולות זמן תגובה, או קריטריוני התראה אבטחה. |  1  |   D   |
| 3.3.2 | ודא שיכולת השחזור מחזירה את מצב המודל השלם (משקלים, הגדרות, תלויות) באופן אטומי בתוך חלונות הזמן הארגוניים שנקבעו מראש.                                                                     |  1  |  D/V  |
| 3.3.3 | ודאו שתהליכי הפריסה מאמתים חתימות קריפטוגרפיות וחושבים סכומי אימות שלמות לפני הפעלת המודל, והפריסה תיכשל בכל אי-התאמה.                                                                      |  2  |  D/V  |
| 3.3.4 | ודא כי כיבוי חירום של המודל יכול להשבית את נקודות הקצה של המודל בתוך זמני תגובה מוגדרים מראש באמצעות מפסקי מעגל אוטומטיים או מתגים ידניים לכיבוי.                                           |  2  |  D/V  |
| 3.3.5 | ודא כי אובייקטי שחזור (גרסאות מודל קודמות, הגדרות ותלויות) נשמרים בהתאם למדיניות הארגונית עם אחסון בלתי-ניתן לשינוי למטרת תגובה לאירועים.                                                   |  2  |   V   |

---

## C3.4 אחריות לשינוי וביקורת

כל שינוי במחזור החיים של המודל חייב be ניתן למעקב ולביקורת.

|   #   | תיאור                                                                                                                                                              | רמה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-: | :---: |
| 3.4.1 | ודא שכל השינויים במודל (פריסת המודל, תצורה, פרישה) מייצרים רשומות ביקורת בלתי ניתנות לשינוי הכוללות חותם זמן, זהות משתמש מאומתת, סוג השינוי, ומצבים לפני ואחרי.    |  1  |   V   |
| 3.4.2 | ודא כי גישת ליומן הביקורת דורשת אישור מתאים וכל ניסיונות הגישה מתועדים עם זהות המשתמש וחותמת זמן.                                                                  |  2  |  D/V  |
| 3.4.3 | ודא כי תבניות פרומפט והודעות מערכת מנוהלות בבקרת גרסאות במסגרת מאגרי Git, עם סקירת קוד ואישור חובה ממבקרים ייעודיים לפני הפריסה.                                   |  2  |  D/V  |
| 3.4.4 | ודא כי רשומות ביקורת כוללות פרטים מספקים (hashes של המודל, צילום מצב של ההגדרות, גרסאות של תלות) כדי לאפשר שחזור מלא של מצב המודל לכל חותמת זמן בתוך תקופת השמירה. |  2  |   V   |

---

## C3.5 שיטות פיתוח מאובטחות

תהליכי פיתוח ואימון של מודלים חייבים לעקוב אחרי פרקטיקות מאובטחות כדי למנוע פגיעה באבטחת המערכת.

|   #   | תיאור                                                                                                                                                | רמה | תפקיד |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 3.5.1 | ודא שסביבות פיתוח, בדיקות והפקה של מודלים מופרדות פיזית או הגיונית.אין להן תשתיות משותפות, בקרות גישה נפרדות, ומאגרי נתונים מבודדים.                 |  1  |   D   |
| 3.5.2 | ודא כי אימון המודל והכיוונון העדין מתרחשים בסביבות מבודדות עם גישה לרשת מבוקרת.                                                                      |  1  |   D   |
| 3.5.3 | ודא שמקורות נתוני האימון מאומתים באמצעות בדיקות יושרה, ומאושרים באמצעות מקורות מהימנים, עם תיעוד של שרשרת שמירה לפני השימוש בפיתוח המודל.            |  1  |  D/V  |
| 3.5.4 | ודא כי ארטיפוקטים של פיתוח מודל (היפרפרמטרים, סקריפטים לאימון, קבצי תצורה) מאוחסנים בבקרת גרסאות ושהם דורשים אישור ביקורת עמיתים לפני השימוש באימון. |  2  |   D   |

---

## C3.6 פרישת מודל והסרתו מהשירות

יש להוציא מהשימוש דגמים באופן מאובטח כאשר הם אינם נדרשים עוד או כאשר מתגלות בעיות אבטחה.

|   #   | תיאור                                                                                                                                                                     | רמה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 3.6.1 | ודא כי תהליכי פרישת מודלים מסרקים באופן אוטומטי גרפים תלותיים, מזהים את כל המערכות שצורכות, ומספקים תקופות הודעה מראש מוסכמות לפני פרישת המודל.                           |  1  |   D   |
| 3.6.2 | וודא כי ארטיפקטים של מודל שהוצא משימוש נמחקים באופן מאובטח באמצעות מחיקה קריפטוגרפית או החלפה במספר מעברים, בהתאם למדיניות שמירת נתונים המתועדת, עם תעודות השמדה מאומתות. |  1  |  D/V  |
| 3.6.3 | ודא שאירועי פרישת מודל נרשמים עם חותמת זמן וזיהוי המבצע, וכי חתימות המודל מבוטלות כדי למנוע שימוש חוזר.                                                                   |  2  |   V   |
| 3.6.4 | ודא כי פרישת מודל בחירום יכולה להשבית את הגישה למודל בתוך טווחי תגובה לחירום המוגדרים מראש באמצעות מתגים אוטומטיים לכיבוי אם יתגלו פגיעויות אבטחה חמורות.                 |  2  |  D/V  |

---

## הפניות

* [MLOps Principles](https://ml-ops.org/content/mlops-principles)
* [Securing AI/ML Ops – Cisco.com](https://sec.cloudapps.cisco.com/security/center/resources/SecuringAIMLOps)
* [Audit logs security: cryptographically signed tamper-proof logs](https://www.cossacklabs.com/blog/audit-logs-security/)
* [Machine Learning Model Versioning: Top Tools & Best Practices](https://lakefs.io/blog/model-versioning/)
* [AI Hygiene Starts with Models and Data Loaders – SEI Blog](https://insights.sei.cmu.edu/documents/6190/AI-Hygiene-Starts-with-Models-and-Data-Loaders_1G0KTRh.pdf)
* [How to handle versioning and rollback of a deployed ML model?](https://learn.microsoft.com/en-au/answers/questions/1845378/how-to-handle-versioning-and-rollback-of-a-deploye)
* [Reinforcement fine-tuning – OpenAI API](https://platform.openai.com/docs/guides/reinforcement-fine-tuning)
* [Auditing Machine Learning models: Governance, Data Security and …](https://www.linkedin.com/pulse/auditing-machine-learning-models-governance-data-security-negrete-yn81f)
* [Adversarial Training to Improve Model Robustness](https://medium.com/%40amit25173/adversarial-training-to-improve-model-robustness-5e285b516713)
* [What is AI adversarial robustness? – IBM Research](https://research.ibm.com/blog/securing-ai-workflows-with-adversarial-robustness)
* [Exploring Data Provenance: Ensuring Data Integrity and Authenticity](https://www.astera.com/type/blog/data-provenance/)
* [MITRE ATLAS](https://atlas.mitre.org/)
* [AWS Prescriptive Guidance – Best practices for retiring applications …](https://docs.aws.amazon.com/pdfs/prescriptive-guidance/latest/migration-app-retirement-best-practices/migration-app-retirement-best-practices.pdf)

