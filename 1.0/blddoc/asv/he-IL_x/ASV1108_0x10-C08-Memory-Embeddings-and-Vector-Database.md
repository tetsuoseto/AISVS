# אבטחת זיכרון C8, אמבדינגס ובסיס נתוני וקטורים

## מטרת הבקרה

הטמעות ומאגרי וקטורים פועלים כ"זיכרון חי" של מערכות AI עכשוויות, הקולטות באופן רציף נתונים שמספק המשתמש ומציגות אותם בהקשרים של המודל באמצעות יצירת תוכן משולבת-שליפה (Retrieval-Augmented Generation - RAG). אם יישארו ללא פיקוח, זיכרון זה עלול לדלוף מידע אישי מזהה (PII), להפר הסכמה, או להיות מנוצל להחזרת הטקסט המקורי. המטרה של משפחת הבקרה הזו היא לחזק את צינורות הזיכרון ומסדי נתוני הווקטורים כך שהגישה תהיה על בסיס הרשאות המינימום הנדרשות, ההטמעות ישמרו על פרטיות, הווקטורים המאוחסנים יפוגו או יוכלו להימחק על פי דרישה, וזיכרון לכל משתמש לא יזדהם על ידי בקשות או השלמות של משתמש אחר.

---

## C8.1 בקרות גישה על זיכרון והמדדים של RAG

להטיל בקרות גישה מפורטות על כל אוסף וקטורים.

|   #   | תיאור                                                                                                                             | רָמָה | תפקיד |
| :---: | --------------------------------------------------------------------------------------------------------------------------------- | :---: | :---: |
| 8.1.1 | וידא שכללי בקרת גישה ברמת שורה/מרחב שמות מגבילים פעולות הכנסת, מחיקה, ושליפת נתונים לפי שוכר, אוסף, או תג מסמך.                   |   1   |  D/V  |
| 8.1.2 | אמת שהמפתחות של ה-API או ה-JWT נושאים טענות עם תחום מוגדר (לדוגמה, מזהי אוספים, פעלים לפעולה) ומחולפים לפחות פעם ברבעון.          |   1   |  D/V  |
| 8.1.3 | וודא כי ניסיונות העלאת הרשאות (לדוגמה, שאילתות דמיון רוחב-מרחב שמות) זוהו ונרשמו במערכת SIEM תוך 5 דקות.                          |   2   |  D/V  |
| 8.1.4 | אמת כי מערכת בדיקת בסיס הנתונים הווקטורית מתעדת את מזהה הנושא של הרישום, הפעולה, מזהה הווקטור/שם המרחב, סף הדמיון, ומספר התוצאות. |   2   |  D/V  |
| 8.1.5 | וודא שהחלטות גישה נבדקות עבור פגמים לעקיפת אבטחה בכל פעם שמנועים משודרגים או כללי חלוקת אינדקס משתנים.                            |   3   |   V   |

---

## C8.2 ניקוי ואימות הטמעה

סרוק מוקדם טקסט למידע אישי מחייב (PII), ערוך או החלף בשמות אישיים לפני וקטוריזציה, ובאופן אופציונלי עבד מחדש את ההטמעות כדי להסיר אותות שאריות.

|   #   | תיאור                                                                                                                                 | רָמָה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------- | :---: | :---: |
| 8.2.1 | אמת שהנתונים האישיים המזהים (PII) והנתונים המבוקרים מזוהים באמצעות מסתווגים אוטומטיים ומוסתרים, ממוקשים או נמחקים לפני האיחוד בוקטור. |   1   |  D/V  |
| 8.2.2 | וודא שצנרות האימבדי מכחישות או מכניסות לבידוד קלטים המכילים קוד הרצה או ארטיפקטים שאינם בפורמט UTF-8 שעלולים לזהם את האינדקס.         |   1   |   D   |
| 8.2.3 | אמת כי חישול פרטיות דיפרנציאלית מקומית או מטרית מיושם על הטמעות משפט שהמרחק שלהן לכל טוקן PII ידוע נופל מתחת לסף שניתן להגדיר.        |   2   |  D/V  |
| 8.2.4 | וודא כי יעילות הסניטציה (למשל, אחזור של הסרת מידע מזהה אישי (PII), סחף סמנטי) מאומתת לפחות פעמיים בשנה מול מאגרי נתונים ביקורתיים.    |   2   |   V   |
| 8.2.5 | וודא שתצורות הניקוי מנוהלות בגרסאות והשינויים עוברים ביקורת עמיתים.                                                                   |   3   |  D/V  |

---

## C8.3 פקיעת תוקף של זיכרון, הוראה והסרה

הזכות ל"הישכחות" לפי תקנות GDPR וחוקים דומים דורשת מחיקה מיידית; לכן, מאגרי הוקטורים חייבים לתמוך ב-TTL, מחיקות קשות, ו-tomb-stoning כדי שמוקטורים שנשללו לא יוכלו להיות משוחזרים או מאונדקסים מחדש.

|   #   | תיאור                                                                                                                      | רָמָה | תפקיד |
| :---: | -------------------------------------------------------------------------------------------------------------------------- | :---: | :---: |
| 8.3.1 | וודא שכל וקטור וכל רשומת מטא-דאטה כוללים TTL או תווית שמירת נתונים מפורשת שנכבדת על ידי עבודות ניקוי אוטומטיות.            |   1   |  D/V  |
| 8.3.2 | אמת שהבקשות למחיקת נתונים שה initiated על ידי המשתמש מוחקות וקטורים, מטא-נתונים, עותקי מטמון ואינדקסים נגזרים תוך 30 ימים. |   1   |  D/V  |
| 8.3.3 | לאמת שהמחיקות הלוגיות מלוות בהשמדה קריפטוגרפית של בלוקי האחסון אם החומרה תומכת בכך, או בהשמדת מפתחות במאגר המפתחות.        |   2   |   D   |
| 8.3.4 | וודא שוקטורי וקטורים שפג תוקפם אינם נכללים בתוצאות חיפוש השכנים הקרובים תוך פחות מ-500 מילישניות לאחר הפקיעה.              |   3   |  D/V  |

---

## C8.4 למנוע הפיכה ודליפה של האיחוד

הגנות אחרונות—הוספת רעש בסופרפוזיציה, רשתות הקרנה, הפרעה לנוירונים פרטיים, והצפנה בשכבת היישום—יכולות להפחית את שיעורי ההיפוך ברמת הטוקן מתחת ל-5%.

|   #   | תיאור                                                                                                                          | רָמָה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------------------------------------ | :---: | :---: |
| 8.4.1 | לאמת שקיים מודל איומים פורמלי המכסה התקפות הפיכה, חברות והסקת מאפיינים וכי הוא נבדק מדי שנה.                                   |   1   |   V   |
| 8.4.2 | אמת כי הצפנת שכבת היישום או הצפנה ניתנת לחיפוש מגנות על וקטורים מקריאה ישירה על ידי מנהלי התשתית או צוות הענן.                 |   2   |  D/V  |
| 8.4.3 | אמת שפרמטרי ההגנה (ε עבור DP, רעש σ, דרגת ההטלה k) מאזנים בין פרטיות ≥ 99% בהגנת טוקנים לשמירה על שימושיות עם אובדן דיוק ≤ 3%. |   3   |   V   |
| 8.4.4 | וודא שמדדי עמידות הפיכה הם חלק משערי השחרור לעדכוני מודל, עם תקציבי רגרסיה מוגדרים.                                            |   3   |  D/V  |

---

## C8.5 אכיפת היקף זיכרון ספציפי למשתמש

דליפה בין שוכני ענן נשארת סיכון מרכזי ב-RAG: שאילתות דמיון שלא מסוננות כראוי יכולות לחשוף מסמכים פרטיים של לקוח אחר.

|   #   | תיאור                                                                                                                                                                   | רָמָה | תפקיד |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :---: |
| 8.5.1 | ודא שכל שאילתת אחזור מפולטרת לאחר מכן לפי מזהה הדייר/המשתמש לפני שהיא מועברת ל-LMM.                                                                                     |   1   |  D/V  |
| 8.5.2 | וודא שנוספו ערכי מלח (salt) לשמות האוספים או למזהי המרחבים השמורים (namespaced IDs) עבור כל משתמש או שוכר כדי שמערכי הווקטורים לא יוכלו להתנגש בין תחומי השימוש השונים. |   1   |   D   |
| 8.5.3 | וודא שתוצאות דמיון העליונות על סף מרחק שניתן להגדיר אך מחוץ לטווח המזמן מתבטלות ומפעילות התרעות אבטחה.                                                                  |   2   |  D/V  |
| 8.5.4 | אמת כי מבחני עומס רב-שאני מדמים שאילתות עוינות הניסות לשלוף מסמכים מחוץ להיקף ומדגימים אפס דליפה.                                                                       |   2   |   V   |
| 8.5.5 | וודא שמפתחות ההצפנה מופרדים לכל שוכר, כדי להבטיח בידוד קריפטוגרפי אפילו אם האחסון הפיזי משותף.                                                                          |   3   |  D/V  |

---

## C8.6 אבטחה מתקדמת של מערכת הזיכרון

בקרות אבטחה לארכיטקטורות זיכרון מתוחכמות הכוללות זיכרון אפיזודי, סמנטי וזיכרון עבודה עם דרישות ייחודיות לבידוד ואימות.

|   #   | תיאור                                                                                                                                                                              | רָמָה | תפקיד |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :---: |
| 8.6.1 | וודא שלסוגי הזיכרון השונים (אפיזודי, סמנטי, עבודה) יש הקשרים אבטחה מבודדים עם בקרות גישה מבוססות תפקידים, מפתחות הצפנה נפרדים, ודפוסי גישה מתועדים עבור כל סוג זיכרון.             |   1   |  D/V  |
| 8.6.2 | וודא שתהליכי ייצוב הזיכרון כוללים אימות אבטחה למניעת הזרקת זיכרונות זדוניים באמצעות נטרול התוכן, אימות המקור ובדיקות תקינות לפני האחסון.                                           |   2   |  D/V  |
| 8.6.3 | אמת שהשאילתות של משיכת זיכרון מאומתות ומסוננות כדי למנוע חילוץ מידע לא מורשה דרך ניתוח דפוסי השאילתות, אכיפת בקרת גישה, וסינון התוצאות.                                            |   2   |  D/V  |
| 8.6.4 | אשרו כי מנגנוני שכיחת זיכרון מוחקים מידע רגיש בצורה מאובטחת עם ערבויות למחיקה קריפטוגרפית באמצעות מחיקת מפתחות, כתיבה חוזרת מרובה, או מחיקה מאובטחת מבוססת חומרה עם תעודות אימות.  |   3   |  D/V  |
| 8.6.5 | לאמת כי שלמות מערכת הזיכרון נבדקת באופן רציף עבור שינויים או שיבושים בלתי מורשים באמצעות סכומי בדיקה, יומני ביקורת, והתראות אוטומטיות כאשר תוכן הזיכרון משתנה מחוץ לפעולות רגילות. |   3   |  D/V  |

---

## ביבליוגרפיה

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

