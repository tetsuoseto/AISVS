# 9 אבטחת תיאום אוטונומי ופעולה סוכנית

## מטרת בקרה

ודא שמערכות בינה מלאכותית אוטונומיות או רב-סוכניות יוכלו לבצע פעולות רק במפורש שהן מיועדות, מאומתות, ניתנות לבדיקה, ותוך שמירה על ספי עלות וסיכון מוגדרים. זה מגן מפני איומים כגון פגיעה במערכת אוטונומית, שימוש לרעה בכלים, גילוי לולאת סוכן, השתלטות על תקשורת, זיוף זהות, מניפולציה של מושבה ומניפולציה בכוונה.

---

## 9.1 תקציבי תכנון משימות סוכן ורקורסיה

הגבילו תוכניות רקורסיביות וכפו נקודות ביקורת אנושיות לפעולות מועדפות.

|   #   | תיאור                                                                                                                                 | רמה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.1.1 | ודא שעומק הרקורסיה המקסימלי, הרוחב, זמן השעון הקיר, הטוקנים, ועלות כספית לכל ביצוע של סוכן מוגדרים באופן מרכזי ומנוהלים בגרסאות.      |  1  |  D/V  |
| 9.1.2 | וודא שפעולות מיוחסות או בלתי הפיכות (כגון התחייבויות קוד, העברות כספיות) דורשות אישור מפורש של אדם דרך ערוץ שניתן לבדיקה לפני ביצוען. |  1  |  D/V  |
| 9.1.3 | אשר שמנטרים בזמן אמת של המשאבים מפעילים הפסקת מעגל כאשר כל סף תקציב חורג, ובכך מונעים הרחבת משימות נוספות.                            |  2  |   D   |
| 9.1.4 | וודא שהאירועים של מפסק המעגל מתועדים עם מזהה הסוכן, תנאי ההפעלה, ומצב התוכנית שנספג לסקירה פורנזית.                                   |  2  |  D/V  |
| 9.1.5 | אשר כי מבחני האבטחה מכסים תרחישי מיצוי תקציב ותכנית רצה ללא פיקוח, ומאשרים עצירה בטוחה ללא אובדן נתונים.                              |  3  |   V   |
| 9.1.6 | וודא שמדיניות התקציב מבוטאת כמדיניות-כשירות (policy-as-code) ומאוכפת ב-CI/CD כדי למנוע סטיות בתצורה.                                  |  3  |   D   |

---

## 9.2 הסגרות תוספים של כלי

לבודד אינטראקציות עם כלים כדי למנוע גישה לא מורשית למערכת או ביצוע קוד.

|   #   | תיאור                                                                                                                             | רמה | תפקיד |
| :---: | --------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.2.1 | וודא שכל כלי/תוסף פועל בתוך מערכת הפעלה, מכולה, או מכולת WASM עם מדיניות הרשאות מינימליות עבור מערכת הקבצים, הרשת, וקריאות מערכת. |  1  |  D/V  |
| 9.2.2 | אמת שהקצאות המשאבים של סביבת החול (CPU, זיכרון, דיסק, יציאת רשת) וגבולות זמן ביצוע נאכפים ומתועדים.                               |  1  |  D/V  |
| 9.2.3 | לאמת כי הקבצים הבינאריים של הכלי או המתארים שלו חתומים דיגיטלית; החתימות מאומתות לפני הטעינה.                                     |  2  |  D/V  |
| 9.2.4 | אמת כי זרמי טלמטריה של סנדבוקס זורמים אל SIEM; חריגות (למשל, ניסיונות לקשרי יציאה) מייצרות התראות.                                |  2  |   V   |
| 9.2.5 | אשר כי תוספים בסיכון גבוה עוברים סקירת אבטחה ובדיקות חדירה לפני פריסה בסביבת הייצור.                                              |  3  |   V   |
| 9.2.6 | וודא שניסיונות בריחת סנדבוקס נחסמים אוטומטית והתוסף המפר הודרך בבידוד להמתנה לחקירה.                                              |  3  |  D/V  |

---

## 9.3 לולאה אוטונומית והגבלת עלויות

לזהות ולעצור ריקורסיה בלתי מבוקרת בין סוכנים ועליות עלויות בלתי מבוקרות.

|   #   | תיאור                                                                                               | רמה | תפקיד |
| :---: | --------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.3.1 | וודא כי קריאות בין סוכנים כוללות גבול קפיצה או TTL שהסביבת הריצה מקטינה ואוכפת.                     |  1  |  D/V  |
| 9.3.2 | אשר שהסוכנים שומרים על מזהה ייחודי של גרף קריאה כדי לזהות קריאה עצמית או דפוסים מחזוריים.           |  2  |   D   |
| 9.3.3 | אמת כי מוני יחידות חישוב מצטברים והוצאות מתועדים לכל שרשרת בקשה; חריגה מהמגבלה תגרום להפסקת השרשרת. |  2  |  D/V  |
| 9.3.4 | אמת כי ניתוח פורמלי או בדיקת מודל מראים היעדר רקורסיה בלתי מוגבלת בפרוטוקולי הסוכן.                 |  3  |   V   |
| 9.3.5 | אמת שאירועי עצירת לולאה יוצרים התראות ומזינים מדדים לשיפור מתמיד.                                   |  3  |   D   |

---

## 9.4 הגנה מפני שימוש שגוי ברמת הפרוטוקול

ערוצי תקשורת מאובטחים בין סוכנים למערכות חיצוניות כדי למנוע חטיפה או מניפולציה.

|   #   | תיאור                                                                                              | רמה | תפקיד |
| :---: | -------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.4.1 | אמתו שכל ההודעות בין סוכן לכלי ובין סוכן לסוכן מאומתות (למשל, TLS הדדי או JWT) ומוצפנות מקצה לקצה. |  1  |  D/V  |
| 9.4.2 | אמת שהסכימות מאומתות בקפדנות; שדות לא מוכרים או הודעות שבורות נדחות.                               |  1  |   D   |
| 9.4.3 | אמת כי בדיקות שלמות (MACs או חתימות דיגיטליות) מכסות את כל מטען ההודעה כולל פרמטרי הכלי.           |  2  |  D/V  |
| 9.4.4 | אמת שההגנה מפני השמעה חוזרת (nonce או חלונות חותמת זמן) מוטלת על שכבת הפרוטוקול.                   |  2  |   D   |
| 9.4.5 | אמת כי מימושי הפרוטוקול עוברים בדיקות פאזינג וניתוח סטטי לזיהוי ליקויים של הזרקה או סיריאליזציה.   |  3  |   V   |

---

## 9.5 זהות סוכן והוכחת התערבות

לוודא כי פעולות ניתן לייחס אליהן ושינויים ניתן לאתר.

|   #   | תיאור                                                                                                           | רמה | תפקיד |
| :---: | --------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.5.1 | וודא שלכל מופע סוכן יש זהות קריפטוגרפית ייחודית (זוג מפתחות או אישור מושרש בחומרה).                             |  1  |  D/V  |
| 9.5.2 | אמת שכל פעולות הסוכן חתומות ומכילות חותמת זמן; היומנים כוללים את החתימה למניעת הכחשה.                           |  2  |  D/V  |
| 9.5.3 | וודא כי יומני פעילות המראים עדות לשינוי מאוחסנים במדיום שניתן רק להוסיף אליו רשומות או לכתוב עליו פעם אחת בלבד. |  2  |   V   |
| 9.5.4 | אמת כי מפתחות זהות מסתובבים בהתאם ללוח זמנים מוגדר ועל סמני פגיעה.                                              |  3  |   D   |
| 9.5.5 | וודא שניסיונות זיוף או קונפליקט מפתח גורמים לבידוד מיידי של הסוכן המושפע.                                       |  3  |  D/V  |

---

## 9.6 הפחתת סיכונים בעזרת להקת סוכנים מרובים

להפחית סיכוני התנהגות קולקטיבית באמצעות בידוד ומידול בטיחות פורמלי.

|   #   | תיאור                                                                                                      | רמה | תפקיד |
| :---: | ---------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.6.1 | וודא שסוכנים הפועלים בדומיינים ביטחוניים שונים מבצעים את פעולתם בסביבות הרצה מבודדות או בקטעי רשת מבודדים. |  1  |  D/V  |
| 9.6.2 | אמת שההתנהגויות של העדרים ממודלות ומאומתות פורמלית לחיות ובטיחות לפני הפריסה.                              |  3  |   V   |
| 9.6.3 | אמת שהמוניטורים בזמן ריצה מזהים דפוסים לא בטוחים מתעוררים (למשל, תנודות, קיפאון) ומתחילים בפעולה מתקנת.    |  3  |   D   |

---

## 9.7 אימות / הרשאת משתמש וכלי

יישם בקרות גישה איתנות לכל פעולה המופעלת על ידי סוכן.

|   #   | תיאור                                                                                            | רמה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------ | :-: | :---: |
| 9.7.1 | וודא שסוכנים מאמתים את עצמם כראשי ראשונים במערכות המשניות, מבלי להשתמש מחדש באישורי המשתמש הקצה. |  1  |  D/V  |
| 9.7.2 | אמת כי מדיניות הרשאות מפורטות מגבילות אילו כלים סוכן יכול להפעיל ואילו פרמטרים הוא יכול לספק.    |  2  |   D   |
| 9.7.3 | וודא כי בדיקות ההרשאות נבדקות מחדש בכל קריאה (אישור רציף), ולא רק בתחילת הפגישה.                 |  2  |   V   |
| 9.7.4 | אמת כי הרשאות מוּסְמָבוֹת פוקעות אוטומטית ודורשות הסכמה מחדש לאחר תום הזמן או שינוי הטווח.       |  3  |   D   |

---

## 9.8 אבטחת תקשורת סוכן-אל-סוכן

הצפן והגן על האמינות של כל ההודעות בין סוכנים כדי למנוע האזנה וגרימת שינויים בלתי מורשים.

|   #   | תיאור                                                                                                  | רמה | תפקיד |
| :---: | ------------------------------------------------------------------------------------------------------ | :-: | :---: |
| 9.8.1 | אמתו כי אימות דו-כיווני והצפנת perfect-forward-secret (למשל TLS 1.3) הם חובה עבור ערוצי סוכן.          |  1  |  D/V  |
| 9.8.2 | אמת כי שלמות ההודעה ומקורה מאומתים לפני עיבוד; כישלונות מייצרים התרעות ומצביעים על דחיית ההודעה.       |  1  |   D   |
| 9.8.3 | וודא כי מטא-דאטה של התקשורת (חותמות זמן, מספרי רצף) מתועדת כדי לתמוך בשחזור פורנזי.                    |  2  |  D/V  |
| 9.8.4 | אמת כי אימות פורמלי או בדיקת מודל מאשרים שמכונות מצב של הפרוטוקול אינן יכולות להוביל למצבים לא בטוחים. |  3  |   V   |

---

## 9.9 אימות כוונה ואכיפת מגבלות

לאמת כי פעולות הסוכן תואמות את הכוונה שהצהיר המשתמש ואת המגבלות של המערכת.

|   #   | תיאור                                                                                                                               | רמה | תפקיד |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.9.1 | וודא שמפענחי מגבלות לפני ביצוע בודקים את הפעולות המוצעות כנגד כללי בטיחות ומדיניות מקודדים בקוד.                                    |  1  |   D   |
| 9.9.2 | אמתו כי פעולות בעלות השפעה גבוהה (כלכלית, הרסנית, רגישת פרטיות) דורשות אישור כוונה מפורש מהמשתמש המתחיל.                            |  2  |  D/V  |
| 9.9.3 | אמת כי בדיקות תנאי הפוסט מאמתות כי הפעולות שהושלמו השיגו את התוצאות הרצויות ללא השפעות צד; אי התאמות מפעילות החזרה אחורנית.         |  2  |   V   |
| 9.9.4 | אמת כי שיטות פורמליות (למשל, בדיקת מודלים, הוכחת משפטים) או מבחנים מבוססי תכונות מראות כי תוכניות הסוכן עומדות בכל המגבלות שהוצהרו. |  3  |   V   |
| 9.9.5 | אשר שהמקרים של חוסר התאמה בכוונה או הפרת מגבלות מזינים מחזורי שיפור רציף ושיתוף מודיעין איומים.                                     |  3  |   D   |

---

## 9.10 אסטרטגיית הסבר סוכן אבטחה

בחירה וביצוע מאובטחים של אסטרטגיות הסקה שונות כולל גישות ReAct, Chain-of-Thought, ו-Tree-of-Thoughts.

|   #    | תיאור                                                                                                                                                                       | רמה | תפקיד |
| :----: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.10.1 | וודא כי הבחירה באסטרטגיית הסקת המסקנות משתמשת בקריטריונים דטרמיניסטיים (מורכבות הקלט, סוג המשימה, הקשר אבטחה) ושהקלטים הזהים מייצרים בחירות אסטרטגיה זהות באותו הקשר אבטחה. |  1  |  D/V  |
| 9.10.2 | אשר שכל אסטרטגיית היגיון (ReAct, Chain-of-Thought, Tree-of-Thoughts) כוללת אימות קלט ייעודי, ניקוי פלט, ומגבלות זמן ביצוע ספציפיות לגישה הקוגניטיבית שלה.                   |  1  |  D/V  |
| 9.10.3 | אמת כי מעברי אסטרטגיית ההסקת המסקנות מתועדים עם הקשר מלא הכולל מאפייני קלט, ערכי קריטריוני בחירה ומטדאטא של ביצוע לשחזור מסלול ביקורת.                                      |  2  |  D/V  |
| 9.10.4 | אמת ש-Tree-of-Thoughts כולל מנגנוני קיצוץ סניפים שמפסיקים את החקירה כאשר מתגלות הפרות מדיניות, מגבלות משאבים, או גבולות בטיחות.                                             |  2  |  D/V  |
| 9.10.5 | אמת כי מחזורי ReAct (Reason-Act-Observe) כוללים נקודות בדיקה לאימות בכל שלב: אימות שלב ההסקה, אישור פעולה, וניקוי תצפיות לפני ההתקדמות.                                     |  2  |  D/V  |
| 9.10.6 | וודאו כי מדדי ביצועי אסטרטגיית הסקת המסקנות (זמן ביצוע, שימוש במשאבים, איכות הפלט) נשמרים במעקב עם התראות אוטומטיות כאשר המדדים חורגים מהספים שהוגדרו.                      |  3  |  D/V  |
| 9.10.7 | אשר ששיטות חשיבה משולבות שמשלבות אסטרטגיות מרובות שומרות על אימות קלט ומגבלות פלט של כל האסטרטגיות הכוללות מבלי לעקוף שום בקרות אבטחה.                                      |  3  |  D/V  |
| 9.10.8 | אשר כי בדיקת אבטחת אסטרטגיית ההסקה כוללת פאזינג עם קלטים פגומים, הנחיות עוינות שנועדו לכפות שינוי אסטרטגיה, ובדיקת תנאי גבול עבור כל גישה קוגניטיבית.                       |  3  |  D/V  |

---

## 9.11 ניהול מצב מחזור החיים של סוכן ואבטחה

אתחול סוכן מאובטח, מעברי מצבים וניתוק עם נתיבי ביקורת קריפטוגרפיים ונהלי שחזור מוגדרים.

|   #    | תיאור                                                                                                                                                                                                 | רמה | תפקיד |
| :----: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.11.1 | אמת ש אתחול הסוכן כולל הקמת זהות קריפטוגרפית עם אישורים מגובים בחומרה ורשומות ביקורת אתחול בלתי ניתנות לשינוי המכילות את מזהה הסוכן, חותמת זמן, גיבוב תצורה ופרמטרי אתחול.                            |  1  |  D/V  |
| 9.11.2 | אמת כי מעברי מצב של הסוכן חתומים קריפטוגרפית, מתויגים בזמן ומתועדים עם הקשר מלא הכולל את האירועים שהובילו, את הקוד הגיבוב של המצב הקודם, את הקוד הגיבוב של המצב החדש, ואת בדיקות האבטחה שבוצעו.       |  2  |  D/V  |
| 9.11.3 | אמת שהנהלים לסגירת הסוכן כוללים ניקוי מאובטח של הזיכרון באמצעות מחיקה קריפטוגרפית או כתיבה חוזרת מרובה-מעברים, ביטול הרשאות באמצעות הודעה לרשות התעודות, ויצירת תעודות סיום עמידות למניעת מניפולציה.  |  2  |  D/V  |
| 9.11.4 | אמתו שמנגנוני התאוששות של הסוכן מאמתים את תקינות המצב באמצעות סכומי ביקורת קריפטוגרפיים (מינימום SHA-256) ומבצעים חזרה למצבים ידועים כטובים בעת גילוי שיבוש, עם התראות אוטומטיות ודרישות אישור ידני.  |  3  |  D/V  |
| 9.11.5 | אמת כי מנגנוני הקיימות של הסוכן מצפינים נתוני מצב רגישים עם מפתחות AES-256 ייחודיים לכל סוכן ומיישמים סיבוב מפתחות מאובטח בלוחות זמנים הניתנים לקונפיגורציה (מקסימום 90 ימים) עם פריסה ללא זמן השבתה. |  3  |  D/V  |

---

## 9.12 מסגרת אבטחת אינטגרציה של כלי עבודה

בקרות אבטחה לטעינה דינמית של כלי עבודה, ביצועם, ואימות התוצאות עם תהליכי הערכת סיכון ואישור מוגדרים.

|   #    | תיאור                                                                                                                                                                                             | רמה | תפקיד |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-: | :---: |
| 9.12.1 | אמת כי תיאורי הכלים כוללים מטא-נתונים אבטחתיים המפרטים הרשאות נדרשות (קריאה/כתיבה/ביצוע), רמות סיכון (נמוך/בינוני/גבוה), מגבלות משאבים (CPU, זיכרון, רשת), ודרישות אימות המתועדות במניפסטי הכלים. |  1  |  D/V  |
| 9.12.2 | וודא שתוצאות ביצוע הכלי מאומתות מול סכמות צפויות (JSON Schema, XML Schema) ומדיניות אבטחה (ניקוי פלט, סיווג נתונים) לפני אינטגרציה, עם הגבלת זמן טיפול ונהלי טיפול בשגיאות.                       |  1  |  D/V  |
| 9.12.3 | אמת כי יומני האינטראקציה של הכלי כוללים הקשר אבטחה מפורט הכולל שימוש בהרשאות, דפוסי גישה לנתונים, זמן הרצה, צריכת משאבים וקודי החזרה עם רישום מובנה לשילוב ב-SIEM.                                |  2  |  D/V  |
| 9.12.4 | אשר כי מנגנוני טעינת כלים דינמיים מאמתים חתימות דיגיטליות באמצעות תשתית PKI ומיישמים פרוטוקולי טעינה מאובטחים עם בידוד בסביבת sandbox ואימות הרשאות לפני ביצוע.                                   |  2  |  D/V  |
| 9.12.5 | אשר שהערכות אבטחת כלי מתבצעות אוטומטית עבור גרסאות חדשות עם שערי אישור מחייבים הכוללים ניתוח סטטי, בדיקות דינמיות ובחינת צוות האבטחה עם קריטריוני אישור מתועדים ודרישות SLA.                      |  3  |  D/V  |

---

### ביבליוגרפיה

* [MITRE ATLAS tactics ML09](https://atlas.mitre.org/)
* [Circuit-breaker research for AI agents — Zou et al., 2024](https://arxiv.org/abs/2406.04313)
* [Trend Micro analysis of sandbox escapes in AI agents — Park, 2025](https://www.trendmicro.com/vinfo/us/security/news/cybercrime-and-digital-threats/unveiling-ai-agent-vulnerabilities-code-execution)
* [Auth0 guidance on human-in-the-loop authorization for agents — Martinez, 2025](https://auth0.com/blog/secure-human-in-the-loop-interactions-for-ai-agents/)
* [Medium deep-dive on MCP & A2A protocol hijacking — ForAISec, 2025](https://medium.com/%40foraisec/security-analysis-potential-ai-agent-hijacking-via-mcp-and-a2a-protocol-insights-cd1ec5e6045f)
* [Rapid7 fundamentals on spoofing attack prevention — 2024](https://www.rapid7.com/fundamentals/spoofing-attacks/)
* [Imperial College verification of swarm systems — Lomuscio et al.](https://sail.doc.ic.ac.uk/projects/swarms/)
* [NIST AI Risk Management Framework 1.0, 2023](https://nvlpubs.nist.gov/nistpubs/ai/nist.ai.100-1.pdf)
* [WIRED security briefing on encryption best practices, 2024](https://www.wired.com/story/encryption-apps-chinese-telecom-hacking-hydra-russia-exxon)
* [OWASP Top 10 for LLM Applications, 2025](https://owasp.org/www-project-top-10-for-large-language-model-applications/)
* [Comprehensive Vulnerability Analysis is Necessary for Trustworthy LLM-MAS](https://arxiv.org/html/2506.01245v1)
* [How Is LLM Reasoning Distracted by Irrelevant Context?
  An Analysis Using a Controlled Benchmark](https://www.arxiv.org/pdf/2505.18761)
* [Large Language Model Sentinel: LLM Agent for Adversarial Purification](https://arxiv.org/pdf/2405.20770)
* [Securing Agentic AI: A Comprehensive Threat Model and Mitigation Framework for Generative AI Agents](https://arxiv.org/html/2504.19956v2)

