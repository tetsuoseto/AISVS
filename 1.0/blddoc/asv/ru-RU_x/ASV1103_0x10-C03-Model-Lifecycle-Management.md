# C3 Управление жизненным циклом модели и контроль изменений

## Контрольная цель

ИИ-системы должны внедрять процессы управления изменениями, которые предотвращают несанкционированные или небезопасные изменения модели от попадания в производственную среду. Этот контроль обеспечивает целостность модели на протяжении всего жизненного цикла--от разработки до развертывания и вывода из эксплуатации--что обеспечивает оперативное реагирование на инциденты и поддерживает подотчетность за все изменения.

Основная цель безопасности: Только авторизованные и валидированные модели выводятся в производство с помощью контролируемых процессов, обеспечивающих целостность, прослеживаемость и восстановимость.

---

## C3.1 Авторизация модели и целостность

Только авторизованные модели с проверенной целостностью попадают в производственные среды.

|   #   | Описание                                                                                                                                                                                                                                     | Уровень | Роль |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| 3.1.1 | Убедитесь, что все артефакты модели (веса, конфигурации, токенизаторы) криптографически подписаны уполномоченными субъектами перед развертыванием.                                                                                           |    1    | D/V  |
| 3.1.2 | Убедитесь, что целостность модели проверяется во время развертывания, и что сбой проверки подписи препятствует загрузке модели.                                                                                                              |    1    | D/V  |
| 3.1.3 | Проверьте, что записи происхождения модели включают идентификацию уполномоченного лица или организации, контрольные суммы обучающих данных, результаты валидационных тестов со статусом прохождения/не прохождения и метку времени создания. |    2    | D/V  |
| 3.1.4 | Проверьте, что все артефакты моделей используют семантическое версионирование (MAJOR.MINOR.PATCH) с задокументированными критериями, определяющими, когда каждый компонент версии увеличивается.                                             |    2    | D/V  |
| 3.1.5 | Убедитесь, что отслеживание зависимостей поддерживает инвентарь в реальном времени, позволяя быстро идентифицировать все потребляющие системы.                                                                                               |    2    |  V   |

---

## C3.2 Валидация модели и тестирование

Модели должны пройти определённые проверки безопасности и надёжности перед развертыванием.

|   #   | Описание                                                                                                                                                                                                                                           | Уровень | Роль |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| 3.2.1 | Проверьте, что модели проходят автоматизированное тестирование безопасности, которое включает валидацию входных данных, очистку вывода и оценки безопасности, с заранее согласованными организационными порогами прохождения перед развертыванием. |    1    | D/V  |
| 3.2.2 | Проверьте, что сбои валидации автоматически блокируют развертывание модели после явного одобрения обхода со стороны заранее назначенных уполномоченных сотрудников, имеющих документально подтверждённые бизнес-обоснования.                       |    1    | D/V  |
| 3.2.3 | Убедитесь, что результаты тестирования криптографически подписаны и неизменяемо связаны с хешем конкретной версии модели, которая проверяется.                                                                                                     |    2    |  V   |
| 3.2.4 | Проверьте, что экстренные развертывания требуют документированной оценки рисков безопасности и одобрения со стороны предварительно назначенного органа безопасности в рамках заранее согласованных сроков.                                         |    2    | D/V  |

---

## C3.3 Контролируемое развертывание и откат

Развертывания моделей должны быть контролируемыми, мониторируемыми и обратимыми.

|   #   | Описание                                                                                                                                                                                                                                                                                                 | Уровень | Роль |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| 3.3.1 | Проверьте, что производственные развёртывания реализуют механизмы постепенного развёртывания (канареевые развёртывания, сине-зелёные развёртывания) с автоматизированными триггерами отката, основанными на заранее согласованных уровнях ошибок, порогах задержки или критериях тревог по безопасности. |    1    |  D   |
| 3.3.2 | Убедитесь, что возможности отката восстанавливают полное состояние модели (веса, конфигурации, зависимости) атомарно в рамках заранее определённых организационных временных окон.                                                                                                                       |    1    | D/V  |
| 3.3.3 | Проверьте, что процессы развертывания выполняют проверку криптографических подписей и вычисляют контрольные суммы целостности перед активацией модели, отклоняя развертывание при любом несовпадении.                                                                                                    |    2    | D/V  |
| 3.3.4 | Проверьте, что возможности аварийного отключения модели позволяют отключать конечные точки модели в пределах предопределённого времени отклика с использованием автоматических прерывателей цепи или ручных аварийных выключателей.                                                                      |    2    | D/V  |
| 3.3.5 | Убедитесь, что артефакты отката (предыдущие версии моделей, конфигурации, зависимости) сохраняются в соответствии с политиками организации с использованием неизменяемого хранилища для реагирования на инциденты.                                                                                       |    2    |  V   |

---

## C3.4 Подотчетность за изменения и аудит

Все изменения жизненного цикла модели должны быть прослеживаемыми и аудируемыми.

|   #   | Описание                                                                                                                                                                                                                                          | Уровень | Роль |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| 3.4.1 | Проверьте, что все изменения моделей (развертывание, конфигурация, вывод из эксплуатации) генерируют неизменяемые записи аудита, включающие отметку времени, идентификатор аутентифицированного пользователя, тип изменения и состояния до/после. |    1    |  V   |
| 3.4.2 | Убедитесь, что доступ к журналу аудита требует соответствующей авторизации, и что все попытки доступа регистрируются с идентификацией пользователя и временной меткой.                                                                            |    2    | D/V  |
| 3.4.3 | Убедитесь, что шаблоны промптов и системные сообщения находятся под контролем версий в git-репозиториях с обязательным код-ревью и утверждением назначенными рецензентами перед развертыванием.                                                   |    2    | D/V  |
| 3.4.4 | Убедитесь, что записи аудита содержат достаточную детализацию (хэши моделей, снимки конфигурации, версии зависимостей), позволяющую полностью воспроизвести состояние модели для любой временной метки в пределах срока хранения.                 |    2    |  V   |

---

## C3.5 Практики безопасной разработки

Процессы разработки и обучения моделей должны придерживаться безопасных практик, чтобы предотвратить компрометацию.

|   #   | Описание                                                                                                                                                                                                                 | Уровень | Роль |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-----: | :--: |
| 3.5.1 | Убедитесь, что среды разработки моделей, тестирования и производственные среды разделены физически или логически. У них нет общей инфраструктуры, различных механизмов контроля доступа и изолированных хранилищ данных. |    1    |  D   |
| 3.5.2 | Убедитесь, что обучение модели и тонкая настройка проходят в изолированных средах с контролируемым доступом к сети.                                                                                                      |    1    |  D   |
| 3.5.3 | Убедитесь, что источники обучающих данных проходят проверку целостности и аутентифицируются через доверенные источники с задокументированной цепочкой владения данными перед использованием в разработке моделей.        |    1    | D/V  |
| 3.5.4 | Убедитесь, что артефакты разработки модели (гиперпараметры, скрипты обучения, конфигурационные файлы) сохраняются в системе контроля версий и требуют одобрения со стороны коллег перед использованием в обучении.       |    2    |  D   |

---

## C3.6 Вывод моделей из эксплуатации и снятие с эксплуатации

Модели должны быть безопасно выведены из эксплуатации, когда они больше не требуются или когда выявлены проблемы безопасности.

|   #   | Описание                                                                                                                                                                                                                                                                                                       | Уровень | Роль |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| 3.6.1 | Убедитесь, что процессы вывода из эксплуатации моделей автоматически сканируют графы зависимостей, идентифицируют все потребляющие системы и предоставляют заранее согласованные сроки предварительного уведомления перед выводом из эксплуатации.                                                             |    1    |  D   |
| 3.6.2 | Проверьте, что артефакты устаревших моделей надежно стерты с использованием криптографического стирания или многопроходной перезаписи в соответствии с задокументированными политиками хранения данных с подтвержденными сертификатами уничтожения.                                                            |    1    | D/V  |
| 3.6.3 | Проверьте, что события вывода из эксплуатации модели регистрируются с временной меткой и идентификацией актера, и что подписи модели аннулируются, чтобы предотвратить повторное использование.                                                                                                                |    2    |  V   |
| 3.6.4 | Убедитесь, что экстренное снятие с эксплуатации модели может отключать доступ к модели в рамках заранее установленных сроков реагирования на чрезвычайные ситуации с использованием автоматических механизмов принудительного отключения, если будут обнаружены критические уязвимости в области безопасности. |    2    | D/V  |

---

## Список литературы

* [MLOps Principles](https://ml-ops.org/content/mlops-principles)
* [Securing AI/ML Ops – Cisco.com](https://sec.cloudapps.cisco.com/security/center/resources/SecuringAIMLOps)
* [Audit logs security: cryptographically signed tamper-proof logs](https://www.cossacklabs.com/blog/audit-logs-security/)
* [Machine Learning Model Versioning: Top Tools & Best Practices](https://lakefs.io/blog/model-versioning/)
* [AI Hygiene Starts with Models and Data Loaders – SEI Blog](https://insights.sei.cmu.edu/documents/6190/AI-Hygiene-Starts-with-Models-and-Data-Loaders_1G0KTRh.pdf)
* [How to handle versioning and rollback of a deployed ML model?](https://learn.microsoft.com/en-au/answers/questions/1845378/how-to-handle-versioning-and-rollback-of-a-deploye)
* [Reinforcement fine-tuning – OpenAI API](https://platform.openai.com/docs/guides/reinforcement-fine-tuning)
* [Auditing Machine Learning models: Governance, Data Security and …](https://www.linkedin.com/pulse/auditing-machine-learning-models-governance-data-security-negrete-yn81f)
* [Adversarial Training to Improve Model Robustness](https://medium.com/%40amit25173/adversarial-training-to-improve-model-robustness-5e285b516713)
* [What is AI adversarial robustness? – IBM Research](https://research.ibm.com/blog/securing-ai-workflows-with-adversarial-robustness)
* [Exploring Data Provenance: Ensuring Data Integrity and Authenticity](https://www.astera.com/type/blog/data-provenance/)
* [MITRE ATLAS](https://atlas.mitre.org/)
* [AWS Prescriptive Guidance – Best practices for retiring applications …](https://docs.aws.amazon.com/pdfs/prescriptive-guidance/latest/migration-app-retirement-best-practices/migration-app-retirement-best-practices.pdf)

