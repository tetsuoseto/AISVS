# Приложение D: Управление и проверка безопасного программирования с помощью ИИ

## Цель

В этой главе определены базовые организационные меры контроля для безопасного и эффективного использования инструментов программирования с поддержкой ИИ в процессе разработки программного обеспечения, обеспечивающие безопасность и прослеживаемость на протяжении всего жизненного цикла разработки ПО (SDLC).

---

## AD.1 Помощь ИИ в безопасном процессе программирования

Интегрировать инструменты ИИ в защищённый жизненный цикл разработки программного обеспечения (SSDLC) организации без ослабления существующих механизмов безопасности.

|   #    | Описание                                                                                                                                                                                                                                   | Уровень | Роль |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-----: | :--: |
| AD.1.1 | Проверьте, что в документированном рабочем процессе описывается, когда и как инструменты ИИ могут создавать, рефакторить или проверять код.                                                                                                |    1    | D/V  |
| AD.1.2 | Проверьте, что рабочий процесс соответствует каждой фазе SSDLC (проектирование, внедрение, проверка кода, тестирование, развертывание).                                                                                                    |    2    |  D   |
| AD.1.3 | Проверьте, что метрики (например, плотность уязвимостей, среднее время на выявление) собираются для кода, созданного искусственным интеллектом, и сравниваются с базовыми показателями, основанными исключительно на человеческом участии. |    3    | D/V  |

---

## AD.2 Квалификация инструментов ИИ и моделирование угроз

Убедитесь, что инструменты кодирования с ИИ оцениваются на предмет возможностей безопасности, рисков и влияния на цепочку поставок перед их внедрением.

|   #    | Описание                                                                                                                                                                            | Уровень | Роль |
| :----: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.2.1 | Проверьте, что модель угроз для каждого ИИ-инструмента выявляет риски неправильного использования, инверсии модели, утечки данных и рисков цепочки зависимостей.                    |    1    | D/V  |
| AD.2.2 | Проверьте, что оценки инструментов включают статический/динамический анализ любых локальных компонентов и оценку SaaS-эндпоинтов (TLS, аутентификация/авторизация, журналирование). |    2    |  D   |
| AD.2.3 | Убедитесь, что оценки соответствуют признанной методологии и повторно выполняются после значительных изменений версий.                                                              |    3    | D/V  |

---

## AD.3 Безопасное управление подсказками и контекстом

Предотвратите утечку секретов, закрытого кода и персональных данных при составлении подсказок или контекстов для AI-моделей.

|   #    | Описание                                                                                                                                                              | Уровень | Роль |
| :----: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.3.1 | Проверьте, что письменные инструкции запрещают отправлять секреты, учетные данные или классифицированные данные в подсказках.                                         |    1    | D/V  |
| AD.3.2 | Проверьте, что технические средства контроля (удаление данных на стороне клиента, утвержденные фильтры контекста) автоматически удаляют конфиденциальные артефакты.   |    2    |  D   |
| AD.3.3 | Проверьте, что подсказки и ответы подвергаются токенизации, шифруются при передаче и в состоянии покоя, а сроки хранения соответствуют политике классификации данных. |    3    | D/V  |

---

## AD.4 Проверка кода, сгенерированного ИИ

Обнаруживайте и устраняйте уязвимости, внесенные результатами работы ИИ, до слияния или развертывания кода.

|   #    | Описание                                                                                                                                                                                          | Уровень | Роль |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.4.1 | Убедитесь, что сгенерированный ИИ код всегда проходит проверку человеком.                                                                                                                         |    1    | D/V  |
| AD.4.2 | Убедитесь, что автоматические сканеры (SAST/IAST/DAST) запускаются для каждого пулл-реквеста, содержащего код, сгенерированный ИИ, и блокируют слияния при обнаружении критических проблем.       |    2    |  D   |
| AD.4.3 | Проверьте, что дифференциальное фуззинг-тестирование или тесты на основе свойств доказывают критически важные для безопасности поведения (например, проверку входных данных, логику авторизации). |    3    | D/V  |

---

## AD.5 Объяснимость и отслеживаемость предложений кода

Обеспечьте аудиторам и разработчикам понимание того, почему было сделано предложение и как оно развивалось.

|   #    | Описание                                                                                                                                                                | Уровень | Роль |
| :----: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.5.1 | Проверьте, что пары запрос/ответ записываются с идентификаторами коммитов.                                                                                              |    1    | D/V  |
| AD.5.2 | Проверьте, что разработчики могут отображать ссылки на модели (фрагменты обучения, документацию), поддерживающие предложение.                                           |    2    |  D   |
| AD.5.3 | Убедитесь, что отчеты о объяснимости хранятся вместе с проектной документацией и ссылаются в обзорах безопасности, соответствуя принципам трассируемости ISO/IEC 42001. |    3    | D/V  |

---

## AD.6 Непрерывная обратная связь и точная настройка модели

Повышайте безопасность модели с течением времени, предотвращая негативный дрейф.

|   #    | Описание                                                                                                                                                                                                                            | Уровень | Роль |
| :----: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.6.1 | Проверьте, что разработчики могут помечать небезопасные или не соответствующие рекомендации, и что эти пометки отслеживаются.                                                                                                       |    1    | D/V  |
| AD.6.2 | Убедитесь, что агрегированные отзывы используются для периодической донастройки или генерации с дополнением извлечения на основе проверенных корпусов по безопасному кодированию (например, OWASP Cheat Sheets).                    |    2    |  D   |
| AD.6.3 | Убедитесь, что система оценки с замкнутым контуром выполняет регрессионное тестирование после каждой донастройки; показатели безопасности должны соответствовать или превосходить предыдущие базовые значения перед развертыванием. |    3    | D/V  |

---

### Ссылки

* [NIST AI Risk Management Framework 1.0](https://nvlpubs.nist.gov/nistpubs/ai/nist.ai.100-1.pdf)
* [ISO/IEC 42001:2023 — AI Management Systems Requirements](https://www.iso.org/standard/81230.html)
* [OWASP Secure Coding Practices — Quick Reference Guide](https://owasp.org/www-project-secure-coding-practices-quick-reference-guide/)

