# Приложение D: Управление безопасной разработкой кода с поддержкой ИИ и верификация

## Цель

Эта глава определяет базовые организационные меры контроля для безопасного и эффективного использования инструментов кодирования с поддержкой ИИ в процессе разработки программного обеспечения, обеспечивая безопасность и прослеживаемость на протяжении SDLC (жизненного цикла разработки ПО).

---

## AD.1 ИИ-поддерживаемый процесс безопасного кодирования

Интегрировать инструменты ИИ в цикл безопасной разработки программного обеспечения организации (SSDLC), не ослабляя существующие контрольные точки безопасности.

|   #    | Описание                                                                                                                                                                                           | Уровень | Роль |
| :----: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.1.1 | Убедитесь, что задокументированный рабочий процесс описывает, когда и как ИИ-инструменты могут генерировать, рефакторировать или просматривать код.                                                |    1    | D/V  |
| AD.1.2 | Убедитесь, что рабочий процесс соответствует каждой фазе SSDLC (проектирование, реализация, обзор кода, тестирование, развертывание).                                                              |    2    |  D   |
| AD.1.3 | Проверьте, что метрики (например, плотность уязвимостей, среднее время до обнаружения) собираются для кода, созданного ИИ, и сравниваются с базовыми значениями, полученными исключительно людьми. |    3    | D/V  |

---

## AD.2 Квалификация инструментов ИИ и моделирование угроз

Убедитесь, что инструменты кодирования на базе ИИ оцениваются по характеристикам безопасности, рискам и влиянию на цепочку-поставок перед внедрением.

|   #    | Описание                                                                                                                                                                             | Уровень | Роль |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-----: | :--: |
| AD.2.1 | Убедитесь, что модель угроз для каждого инструмента ИИ выявляет злоупотребления, инверсию модели, утечку данных и риски цепочки зависимостей.                                        |    1    | D/V  |
| AD.2.2 | Убедитесь, что оценки инструментов включают статический/динамический анализ любых локальных компонентов и оценку конечных точек SaaS (TLS, аутентификация/авторизация, логирование). |    2    |  D   |
| AD.2.3 | Убедитесь, что оценки соответствуют признанной рамке и повторно выполняются после крупных изменений версии.                                                                          |    3    | D/V  |

---

## AD.3 Безопасное управление подсказками и контекстом

Предотвращайте утечки секретов, проприетарного кода и персональных данных при формировании подсказок или контекстов для моделей ИИ.

|   #    | Описание                                                                                                                                                       | Уровень | Роль |
| :----: | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.3.1 | Убедитесь, что письменные рекомендации запрещают отправку секретов, учетных данных или классифицированной информации в запросах.                               |    1    | D/V  |
| AD.3.2 | Убедитесь, что технические средства контроля (редактирование на стороне клиента, одобренные фильтры контекста) автоматически удаляют чувствительные артефакты. |    2    |  D   |
| AD.3.3 | Проверьте, что запросы и ответы токенизированы, шифруются во время передачи и хранения, и сроки хранения соответствуют политике классификации данных.          |    3    | D/V  |

---

## AD.4 Валидация AI‑генерированного кода

Обнаруживайте и устраняйте уязвимости, вызванные выводом ИИ, до слияния или развертывания кода.

|   #    | Описание                                                                                                                                                                                | Уровень | Роль |
| :----: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.4.1 | Убедитесь, что код, сгенерированный ИИ, всегда подлежит человеческому обзору кода.                                                                                                      |    1    | D/V  |
| AD.4.2 | Убедитесь, что автоматизированные сканеры (SAST/IAST/DAST) запускаются на каждом pull-запросе, содержащем ИИ‑генерированный код, и блокируют слияния при критических обнаружениях.      |    2    |  D   |
| AD.4.3 | Проверьте, что дифференциальное фузз-тестирование или тесты на основе свойств доказывают поведение, критичное для безопасности (например, проверку входных данных, логику авторизации). |    3    | D/V  |

---

## AD.5 Объяснимость и прослеживаемость предложений кода

Предоставляйте аудиторам и разработчикам понимание того, почему было сделано предложение и как оно развивалось.

|   #    | Описание                                                                                                                                                                        | Уровень | Роль |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.5.1 | Убедитесь, что пары запрос-ответ регистрируются с идентификаторами коммитов.                                                                                                    |    1    | D/V  |
| AD.5.2 | Проверьте, что разработчики могут привести цитаты модели (фрагменты обучающих данных, документация), поддерживающие предложение.                                                |    2    |  D   |
| AD.5.3 | Убедитесь, что отчеты об объяснимости хранятся вместе с артефактами проектирования и упоминаются в обзорах безопасности, соответствуя принципам прослеживаемости ISO/IEC 42001. |    3    | D/V  |

---

## AD.6 Непрерывная обратная связь и тонкая настройка модели

Улучшать показатели безопасности модели со временем, предотвращая негативный дрейф.

|   #    | Описание                                                                                                                                                                                                                                 | Уровень | Роль |
| :----: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :--: |
| AD.6.1 | Проверьте, что разработчики могут помечать небезопасные или несоответствующие предложения, и что пометки отслеживаются.                                                                                                                  |    1    | D/V  |
| AD.6.2 | Проверьте, что агрегированная обратная связь информирует о периодической тонкой настройке или генерации, дополненной извлечением на основе проверенных корпусов безопасного кодирования (например, шпаргалки OWASP).                     |    2    |  D   |
| AD.6.3 | Убедитесь, что каркас оценки с замкнутым контуром выполняет регрессионные тесты после каждой тонкой настройки; метрики безопасности должны соответствовать или превосходить ранее установленные базовые показатели перед развертыванием. |    3    | D/V  |

---

### Список литературы

* [NIST AI Risk Management Framework 1.0](https://nvlpubs.nist.gov/nistpubs/ai/nist.ai.100-1.pdf)
* [ISO/IEC 42001:2023 — AI Management Systems Requirements](https://www.iso.org/standard/81230.html)
* [OWASP Secure Coding Practices — Quick Reference Guide](https://owasp.org/www-project-secure-coding-practices-quick-reference-guide/)

