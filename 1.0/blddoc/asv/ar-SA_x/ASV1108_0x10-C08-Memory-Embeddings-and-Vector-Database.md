# ذاكرة C8، والأضمات، وأمن قواعد بيانات المتجهات

## هدف التحكم

تعمل التضمينات وقواعد متجهات التخزين كـ "ذاكرة حية" لأنظمة الذكاء الاصطناعي المعاصرة، حيث تستقبل بيانات المستخدم بشكل مستمر وتعيد عرضها ضمن سياقات النماذج عبر التوليد المدعوم بالاسترجاع (RAG). إذا تركت هذه الذاكرة بدون حوكمة، فقد تكشف عن بيانات شخصية قابلة للتعريف (PII)، أو تنتهك الموافقة، أو يمكن عكسها لإعادة بناء النص الأصلي. الهدف من هذه المجموعة من الضوابط هو تعزيز خطوط أنابيب الذاكرة وقواعد بيانات المتجهات بحيث يكون الوصول بأقل امتياز ممكن، وتكون التضمينات محافظًا على الخصوصية، وتنتهي صلاحية المتجهات المخزنة أو يمكن سحبها عند الطلب، كما أن ذاكرة كل مستخدم لا تلوث مطالبات أو إكمالات مستخدم آخر.

---

## C8.1 ضوابط الوصول على الذاكرة ومؤشرات RAG

فرض ضوابط وصول دقيقة على كل مجموعة متجهات.

|   #   | الوصف                                                                                                                                                       | المستوى | الدور |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.1.1 | تحقق من أن قواعد التحكم في الوصول على مستوى الصف/المجال تحد من عمليات الإدراج والحذف والاستعلام لكل مستأجر أو مجموعة أو وسم المستند.                        |    1    |  D/V  |
| 8.1.2 | تحقق من أن مفاتيح API أو JWTs تحمل مطالبات محددة النطاق (مثل معرفات المجموعات، أفعال الإجراءات) ويتم تدويرها على الأقل كل ثلاثة أشهر.                       |    1    |  D/V  |
| 8.1.3 | تحقق من اكتشاف محاولات تصعيد الامتيازات (مثل استعلامات التشابه عبر المساحات الاسمية) وتسجيلها في نظام إدارة المعلومات والأحداث الأمنية (SIEM) خلال 5 دقائق. |    2    |  D/V  |
| 8.1.4 | تحقق من أن قاعدة بيانات المتجهات تسجل تدقيق الموضوع-المُعرف، العملية، معرف المتجه/المجال الاسمي، عتبة التشابه، وعدد النتائج.                                |    2    |  D/V  |
| 8.1.5 | تحقق من أن قرارات الوصول يتم اختبارها للكشف عن عيوب التجاوز كلما تم ترقية المحركات أو تغيّرت قواعد تقسيم الفهرس.                                            |    3    |   V   |

---

## C8.2 تنقية وتحقق التضمين

قم بفحص النص مسبقًا للكشف عن المعلومات الشخصية المعروفة، وقم بحجبها أو تمويهها قبل تحويلها إلى متجهات، وبصفة اختيارية قم بمعالجة التمثيلات المضمنة لاحقًا لإزالة الإشارات المتبقية.

|   #   | الوصف                                                                                                                                                       | المستوى | الدور |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.2.1 | تحقق من أن المعلومات الشخصية المعروفة (PII) والبيانات المنظمة يتم كشفها عبر المصنفات الآلية ويتم إخفاؤها أو ترميزها بالرموز أو حذفها قبل التضمين.           |    1    |  D/V  |
| 8.2.2 | تحقق من أن خطوط أنابيب التضمين ترفض أو تضع في الحجز المدخلات التي تحتوي على كود قابل للتنفيذ أو آثار غير متوافقة مع UTF-8 يمكن أن تسمم الفهرس.              |    1    |   D   |
| 8.2.3 | تحقق من تطبيق التنقية التفاضلية المحلية أو التفاضلية المقياسية على تمثيلات الجمل التي تقل المسافة بينها وبين أي رمز معلومات شخصية معرف بعتبة قابلة للتكوين. |    2    |  D/V  |
| 8.2.4 | تحقق من أن فعالية التنقية (مثل استدعاء إخفاء المعلومات الشخصية، والانحراف الدلالي) يتم التحقق منها على الأقل نصف سنويًا مقابل مجموعات البيانات المرجعية.    |    2    |   V   |
| 8.2.5 | تحقق من أن إعدادات التنقية محكومة بالإصدار وأن التغييرات تخضع لمراجعة الأقران.                                                                              |    3    |  D/V  |

---

## C8.3 انتهاء صلاحية الذاكرة، الإلغاء والحذف

قانون حماية البيانات العامة (GDPR) "الحق في أن تُنسى" والقوانين المشابهة تتطلب المسح في الوقت المناسب؛ لذلك يجب أن تدعم مخازن المتجهات أوقات العمر الافتراضي (TTL)، والحذف النهائي، ووضع شواهد القبور حتى لا يمكن استرداد المتجهات الملغاة أو إعادة فهرستها.

|   #   | الوصف                                                                                                                             | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.3.1 | تحقق من أن كل سجل متجه وبيانات تعريف يحملان فترة صلاحية (TTL) أو تسمية احتفاظ صريحة تُحترم بواسطة مهام التنظيف الآلي.             |    1    |  D/V  |
| 8.3.2 | تحقق من أن طلبات الحذف التي initiated by المستخدم تقوم بحذف المتجهات والبيانات الوصفية ونسخ الكاش والفهارس المشتقة خلال 30 يومًا. |    1    |  D/V  |
| 8.3.3 | تحقق من أن الحذف المنطقي يتبعه تمزيق تشفير كتلات التخزين إذا كان الجهاز يدعم ذلك، أو بتدمير مفتاح خزنة المفاتيح.                  |    2    |   D   |
| 8.3.4 | تحقق من استبعاد المتجهات المنتهية الصلاحية من نتائج البحث عن أقرب الجيران في أقل من 500 مللي ثانية بعد الانتهاء.                  |    3    |  D/V  |

---

## C8.4 منع الانعكاس والتسرب في التضمين

الدفاعات الحديثة—تركيب الضوضاء، شبكات الإسقاط، تشويش العصبون الخصوصي، وتشفير طبقة التطبيق—يمكن أن تقلل من معدلات عكس الرموز على مستوى الرمز إلى أقل من 5%.

|   #   | الوصف                                                                                                                                         | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.4.1 | تحقق من وجود نموذج تهديد رسمي يشمل هجمات الانعكاس، وعضوية البيانات، واستدلال السمات، وأن يتم مراجعته سنويًا.                                  |    1    |   V   |
| 8.4.2 | تحقق من أن التشفير على طبقة التطبيق أو التشفير القابل للبحث يحمي المتجهات من القراءات المباشرة بواسطة مسؤولي البنية التحتية أو موظفي السحابة. |    2    |  D/V  |
| 8.4.3 | تحقق من أن معلمات الدفاع (ε لـ DP، الضوضاء σ، رتبة الإسقاط k) توازن بين الخصوصية ≥ 99٪ حماية الرموز والفائدة ≤ 3٪ فقدان الدقة.                |    3    |   V   |
| 8.4.4 | تحقق من أن مقاييس مقاومة الانعكاس جزء من بوابات الإصدار لتحديثات النموذج، مع تحديد ميزانيات الانحدار.                                         |    3    |  D/V  |

---

## C8.5 فرض النطاق لذاكرة المستخدم المحددة

تسرب البيانات بين المستأجرين يظل من أبرز مخاطر RAG: حيث قد تكشف استعلامات التشابه غير المصفاة بشكل صحيح عن مستندات خاصة بعميل آخر.

|   #   | الوصف                                                                                                                                   | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.5.1 | تحقق من أن يتم تصفية كل استعلام استرجاع بعد تحديد معرف المستأجر/المستخدم قبل تمريره إلى موجه نموذج اللغة الكبير.                        |    1    |  D/V  |
| 8.5.2 | تحقق من أن أسماء المجموعات أو معرفات الأسماء المكانية مُضافة لها ملح لكل مستخدم أو مستأجر حتى لا تتصادم المتجهات عبر النطاقات.          |    1    |   D   |
| 8.5.3 | تحقق من أن نتائج التشابه التي تتجاوز عتبة المسافة القابلة للتكوين ولكنها خارج نطاق المستدعي يتم تجاهلها وتؤدي إلى تنبيهات أمان.         |    2    |  D/V  |
| 8.5.4 | تحقق من أن اختبارات الضغط متعددة المستأجرين تحاكي الاستعلامات العدائية التي تحاول استرداد المستندات خارج النطاق وتثبت عدم حدوث أي تسرب. |    2    |   V   |
| 8.5.5 | تحقق من أن مفاتيح التشفير مُفصّلة لكل مستأجر، مما يضمن العزل التشفيري حتى في حال مشاركة التخزين الفيزيائي.                              |    3    |  D/V  |

---

## C8.6 أمن نظام الذاكرة المتقدم

ضوابط الأمان للهياكل المعقدة للذاكرة بما في ذلك الذاكرة العرضية، والذاكرة الدلالية، وذاكرة العمل مع متطلبات محددة للعزل والتحقق.

|   #   | الوصف                                                                                                                                                                                                                               | المستوى | الدور |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.6.1 | تحقق من أن أنواع الذاكرة المختلفة (الحركية، الدلالية، العاملة) لها سياقات أمان معزولة مع ضوابط وصول تستند إلى الأدوار، ومفاتيح تشفير منفصلة، وأنماط وصول موثقة لكل نوع من أنواع الذاكرة.                                            |    1    |  D/V  |
| 8.6.2 | تأكد من أن عمليات ترسيخ الذاكرة تشمل التحقق الأمني لمنع إدخال ذكريات خبيثة من خلال تنقية المحتوى، والتحقق من المصدر، وفحوصات السلامة قبل التخزين.                                                                                   |    2    |  D/V  |
| 8.6.3 | تحقق من أن استعلامات استرجاع الذاكرة يتم التحقق من صحتها وتنقيتها لمنع استخراج معلومات غير مصرح بها من خلال تحليل نمط الاستعلام، وتطبيق ضوابط الوصول، وتصفيه النتائج.                                                               |    2    |  D/V  |
| 8.6.4 | تحقق من أن آليات نسيان الذاكرة تحذف المعلومات الحساسة بأمان مع ضمانات المحو التشفيري باستخدام حذف المفتاح، أو الكتابة فوق متعددة المرات، أو الحذف الآمن المعتمد على الأجهزة مع شهادات التحقق.                                       |    3    |  D/V  |
| 8.6.5 | تحقق من أن سلامة نظام الذاكرة تُراقب باستمرار لاكتشاف التعديلات أو التلف غير المصرح به من خلال استخدام مجموعات التحقق (checksums)، سجلات التدقيق، والتنبيهات التلقائية عند حدوث تغييرات في محتوى الذاكرة خارجة عن العمليات العادية. |    3    |  D/V  |

---

## المراجع

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

