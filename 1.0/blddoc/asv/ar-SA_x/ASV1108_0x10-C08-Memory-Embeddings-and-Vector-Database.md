# ذاكرة C8، التضمينات وأمان قاعدة بيانات المتجهات

## هدف الرقابة

التضمينات ومخازن المتجهات تعملان كذاكرة حية لأنظمة الذكاء الاصطناعي المعاصرة، حيث تقبلان باستمرار بيانات مقدمة من المستخدم وتعيدانها إلى سياقات النموذج عبر التوليد المعزز بالاسترجاع (RAG). إذا تُركتا دون حوكمة، يمكن أن تتسرب إلى الذاكرة معلومات شخصية قابلة للتمييز (PII)، وتُنتهك الموافقة، أو تُعكَّس لإعادة بناء النص الأصلي. الهدف من هذه المجموعة من الضوابط هو تدعيم صلابة مسارات الذاكرة وقواعد بيانات المتجهات بحيث يكون الوصول وفق مبدأ الحد الأدنى من الامتيازات، وتكون التضمينات محافظة على الخصوصية، وتنقضي صلاحية المتجهات المخزَّنة أو يمكن سحبها عند الطلب، وتبقى ذاكرة كل مستخدم بعيدة عن مطالبات وإكمالات مستخدم آخر.

---

## C8.1 ضوابط الوصول إلى الذاكرة ومؤشرات RAG

إنفاذ ضوابط وصول دقيقة على كل مجموعة من المتجهات.

|   #   | الوصف                                                                                                                                          | المستوى | الدور |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.1.1 | تحقق من أن قواعد التحكم في الوصول على مستوى الصف ومساحة الاسم تقيد عمليات الإدراج والحذف والاستعلام وفق المستأجر، أو المجموعة، أو وسم المستند. |    1    |  D/V  |
| 8.1.2 | تحقق من أن مفاتيح API أو JWTs تحمل مطالبات مقيدة بالنطاق (على سبيل المثال معرفات المجموعات، أفعال الإجراء) وتُدوَّر على الأقل كل ثلاثة أشهر.   |    1    |  D/V  |
| 8.1.3 | تحقق من أن محاولات تصعيد الامتياز (على سبيل المثال، استعلامات تشابه عبر مساحات أسماء مختلفة) يتم اكتشافها وتسجيلها في SIEM خلال 5 دقائق.       |    2    |  D/V  |
| 8.1.4 | تحقق من أن سجلات تدقيق قاعدة بيانات المتجهات تسجل معرّف الجهة، العملية، معرّف المتجه/فضاء أسماء، عتبة التشابه، وعدد النتائج.                   |    2    |  D/V  |
| 8.1.5 | تحقق من أن قرارات الوصول يتم اختبارها للكشف عن ثغرات التجاوز عندما تتم ترقية المحركات أو تتغير قواعد تقسيم الفهرسة.                            |    3    |   V   |

---

## C8.2 تنقية التضمينات والتحقق منها

فحص مسبق للنص بحثاً عن معلومات تعريف شخصية (PII)، وإخفاء الهوية أو استخدام أسماء مستعارة قبل تحويله إلى متجهات، واختياريًا إجراء معالجة لاحقة للتضمينات لإزالة الإشارات المتبقية.

|   #   | الوصف                                                                                                                                                  | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------ | :-----: | :---: |
| 8.2.1 | تحقق من اكتشاف PII والبيانات الخاضعة للوائح عبر مصنفات آلية، مع إخفائها أو ترميزها إلى توكنات، أو إسقاطها قبل التضمين.                                 |    1    |  D/V  |
| 8.2.2 | تحقق من أن خطوط أنابيب التضمين ترفض أو تعزل المدخلات التي تحتوي على كود قابل للتنفيذ أو مكونات غير UTF-8 قد تفسد الفهرس.                               |    1    |   D   |
| 8.2.3 | تحقق من تطبيق تنقيّة الخصوصية التفاضلية المحلية أو المبنية على المسافة على تمثيلات الجُمَل التي تقع مسافتها إلى أي رمز PII معروف تحت عتبة قابلة للضبط. |    2    |  D/V  |
| 8.2.4 | تحقق من أن فعالية التنقية (على سبيل المثال معدل طمس PII والانجراف الدلالي) يتم التحقق منها كل ستة أشهر على الأقل مقابل مجموعات بيانات معيارية.         |    2    |   V   |
| 8.2.5 | تحقق من أن إعدادات التنقية خاضعة للتحكّم بالإصدارات وأن التغييرات تخضع للمراجعة من الأقران.                                                            |    3    |  D/V  |

---

## C8.3 انتهاء صلاحية الذاكرة، الإلغاء والحذف

اللائحة العامة لحماية البيانات (GDPR) و"الحق في النسيان" وقوانين مماثلة تتطلب المحو في الوقت المناسب؛ لذا يجب أن تدعم قواعد بيانات المتجهات TTLs والحذف الدائم وتسجيلات القبور حتى لا يمكن استرداد المتجهات الملغاة أو إعادة فهرستها.

|   #   | الوصف                                                                                                                           | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.3.1 | تحقق من أن كل متجه وكل سجل بيانات وصفية يحمل TTL أو علامة احتفاظ صريحة يتم الالتزام بها من قبل مهام التنظيف الآلي.              |    1    |  D/V  |
| 8.3.2 | تحقق من أن طلبات الحذف التي يطلقها المستخدم تمحو المتجهات والبيانات الوصفية ونسخ التخزين المؤقت والفهارس المشتقة خلال 30 يوماً. |    1    |  D/V  |
| 8.3.3 | تحقق من أن الحذف المنطقي يتبعه إتلاف تشفيري لكتل التخزين إذا كان العتاد يدعمه، أو بتدمير مفتاح خزنة المفاتيح.                   |    2    |   D   |
| 8.3.4 | تحقق من استبعاد المتجهات المنتهية الصلاحية من نتائج البحث عن أقرب-جار في أقل من 500 ms بعد انتهاء صلاحيتها.                     |    3    |  D/V  |

---

## C8.4 منع انعكاس التضمين وتسرب التضمين

الدفاعات الحديثة—تراكب الضوضاء، وشبكات الإسقاط، واضطراب عصبون الخصوصية، وتشفير طبقة التطبيق—يمكن أن تخفض معدلات استرجاع التوكن عند مستوى الرمز إلى أقل من 5%.

|   #   | الوصف                                                                                                                                   | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.4.1 | تحقق من وجود نموذج تهديد رسمي يغطي هجمات الانعكاس والانتماء واستنتاج السمات، ويتم مراجعته سنوياً.                                       |    1    |   V   |
| 8.4.2 | تحقق من أن تشفير طبقة التطبيق أو التشفير القابل للبحث يحمي المتجهات من القراءات المباشرة من قبل مسؤولي البنية التحتية أو موظفي السحابة. |    2    |  D/V  |
| 8.4.3 | تحقق من أن معلمات الدفاع (ε لـ DP، الضوضاء σ، رتبة الإسقاط k) توازن الخصوصية ≥ 99 % لحماية الرموز والفائدة ≤ 3 % من فقدان الدقة.        |    3    |   V   |
| 8.4.4 | تحقق من أن مقاييس مقاومة هجوم استرجاع النموذج هي جزء من بوابات الإصدار لتحديثات النماذج، مع تحديد ميزانيات الانحدار.                    |    3    |  D/V  |

---

## C8.5 فرض النطاق على الذاكرة المخصصة للمستخدم

التسريب عبر المستأجرين لا يزال أحد أبرز مخاطر RAG: الاستعلامات التشابهية غير المُفلترة بشكل صحيح قد تكشف عن مستندات خاصة بعميل آخر.

|   #   | الوصف                                                                                                                         | المستوى | الدور |
| :---: | ----------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.5.1 | تحقق من أن كل استعلام استرجاع يتم فلترته لاحقاً بناءً على معرّف المستأجر/المستخدم قبل تمريره إلى موجه LLM.                    |    1    |  D/V  |
| 8.5.2 | تحقق من أن أسماء المجموعات أو المعرفات ذات النطاق مُملَّحة لكل مستخدم أو مستأجر، بحيث لا تتصادم المتجهات عبر النطاقات.        |    1    |   D   |
| 8.5.3 | تحقق من أن نتائج التشابه التي تتجاوز عتبة مسافة قابلة للتكوين لكنها خارج نطاق المستدعي يتم تجاهلها وتُطلق تنبيهات أمنية.      |    2    |  D/V  |
| 8.5.4 | تحقق من أن اختبارات الإجهاد متعددة المستأجرين تحاكي استفسارات عدائية تحاول استرجاع وثائق خارج النطاق وتُظهر عدم وجود أي تسرب. |    2    |   V   |
| 8.5.5 | تحقق من أن مفاتيح التشفير مفصولة حسب كل مستأجر، لضمان العزل التشفيري حتى إذا كان التخزين الفيزيائي مشتركا.                    |    3    |  D/V  |

---

## C8.6 أمان نظام الذاكرة المتقدمة

ضوابط الأمان لهياكل ذاكرة متطورة تشمل الذاكرة الحدثية والدلالية والذاكرة العاملة، مع متطلبات عزل وتحقق محددة.

|   #   | الوصف                                                                                                                                                                                                                | المستوى | الدور |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.6.1 | تحقق من أن أنواع الذاكرة المختلفة (الذاكرة الحدثية، الذاكرة الدلالية، والذاكرة العاملة) تمتلك سياقات أمنيّة معزولة، وضوابط وصول قائمة على الأدوار، ومفاتيح تشفير منفصلة، وأنماط وصول موثقة لكل نوع من أنواع الذاكرة. |    1    |  D/V  |
| 8.6.2 | تحقق من أن عمليات ترسيخ الذاكرة تتضمن التحقق الأمني لمنع حقن الذكريات الخبيثة من خلال تنقية المحتوى، والتحقق من المصدر، وفحص التكامل قبل التخزين.                                                                    |    2    |  D/V  |
| 8.6.3 | تحقق من صحة وتنقية استعلامات استرجاع الذاكرة لمنع استخراج معلومات غير مصرح بها من خلال تحليل أنماط الاستعلام، وتطبيق ضوابط الوصول، وتصفية النتائج.                                                                   |    2    |  D/V  |
| 8.6.4 | تحقق من أن آليات محو الذاكرة تزيل المعلومات الحساسة بشكل آمن مع ضمانات المحو التشفيري باستخدام حذف المفتاح، والكتابة عبر عدة تمريرات، أو الحذف الآمن القائم على الأجهزة مع شهادات تحقق.                              |    3    |  D/V  |
| 8.6.5 | تحقق من أن تكامل ذاكرة النظام يُراقب باستمرار لأي تعديلات غير مصرح بها أو تلف من خلال قيم التحقق، سجلات التدقيق، والتنبيهات الآلية عند تغيّر محتوى الذاكرة خارج نطاق التشغيل العادي.                                 |    3    |  D/V  |

---

## المراجع

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

