# أمان ذاكرة C8، التضمينات وقاعدة بيانات المتجهات

## هدف التحكم

تعمل التضمينات ومخازن المتجهات كـ "ذاكرة حية" لأنظمة الذكاء الاصطناعي المعاصرة، إذ تستقبل باستمرار البيانات المقدمة من المستخدم وتعيد عرضها داخل سياقات النماذج عبر التوليد المعزز بالاسترجاع (RAG). إذا تُركت هذه الذاكرة بدون مراقبة، فقد تتسرب البيانات الشخصية المُحددة (PII)، أو تُنتهك الموافقات، أو يتم عكسها لإعادة إنشاء النص الأصلي. تهدف هذه المجموعة من الضوابط إلى تقوية مسارات الذاكرة وقواعد بيانات المتجهات بحيث يكون الوصول بأقل قدر من الامتيازات، وتكون التضمينات تحافظ على الخصوصية، وتنتهي صلاحية المتجهات المخزنة أو يمكن سحبها عند الطلب، وألا تلوث ذاكرة كل مستخدم مطالبات أو إكمالات مستخدم آخر.

---

## C8.1 ضوابط الوصول على الذاكرة ومؤشرات RAG

فرض ضوابط وصول دقيقة على كل مجموعة متجهات.

|   #   | الوصف                                                                                                                                                          | المستوى | الدور |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.1.1 | تحقق من أن قواعد التحكم في الوصول على مستوى الصف/المجال تحد من عمليات الإدخال والحذف والاستعلام لكل مستأجر أو مجموعة أو وسم مستند.                             |    1    |  D/V  |
| 8.1.2 | تحقق من أن مفاتيح API أو JWTs تحمل مطالبات محددة بالنطاق (مثل معرفات المجموعات، أفعال الإجراءات) وأنها تتم تدويرها على الأقل كل ثلاثة أشهر.                    |    1    |  D/V  |
| 8.1.3 | تحقق من أن محاولات تصعيد الامتيازات (مثل استعلامات التشابه عبر المساحات الاسمية) يتم اكتشافها وتسجيلها في نظام إدارة معلومات وأحداث الأمن (SIEM) خلال 5 دقائق. |    2    |  D/V  |
| 8.1.4 | تحقق من أن قاعدة بيانات المتجهات تسجل مراجعة المعرف الموضوعي، العملية، معرف المتجه/النطاق، عتبة التشابه، وعدد النتائج.                                         |    2    |  D/V  |
| 8.1.5 | تحقق من أن قرارات الوصول تُختبر للكشف عن ثغرات التجاوز كلما تم ترقية المحركات أو تغيرت قواعد تقسيم الفهرس.                                                     |    3    |   V   |

---

## C8.2 تطهير وتحقق من صحة التضمين

قم بفحص النص مسبقًا بحثًا عن معلومات هوية شخصية، وقم بإخفائها أو تشفيرها قبل تحويلها إلى متجهات، وخياريًا قم بمعالجة التضمينات بعد ذلك لإزالة الإشارات المتبقية.

|   #   | الوصف                                                                                                                                                                       | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.2.1 | تحقق من اكتشاف المعلومات الشخصية المعروفة (PII) والبيانات المنظمة عبر المصنفات الآلية وأن يتم إخفاؤها أو ترميزها أو حذفها قبل التضمين.                                      |    1    |  D/V  |
| 8.2.2 | تحقق من أن خطوط المعالجة الخاصة بالتضمين ترفض أو تعزل المدخلات التي تحتوي على تعليمات برمجية تنفيذية أو قطع غير قابلة للترميز بنظام UTF-8 والتي قد تلوث الفهرس.             |    1    |   D   |
| 8.2.3 | تحقق من تطبيق التقييد التفاضلي المحلي أو تقييد الخصوصية التفاضلية المترية على تمثيلات الجمل التي تقل المسافة بينها وبين أي رمز معلومات شخصية معرف (PII) عن حد قابل للتكوين. |    2    |  D/V  |
| 8.2.4 | تحقق من أن فعالية التنقية (مثل استدعاء إزالة المعلومات الشخصية، والانحراف الدلالي) يتم التحقق منها على الأقل مرتين في السنة مقابل مجموعات البيانات المرجعية.                |    2    |   V   |
| 8.2.5 | تأكد من أن إعدادات التنقية تحت مراقبة الإصدارات وأن التغييرات تخضع لمراجعة الأقران.                                                                                         |    3    |  D/V  |

---

## C8.3 انتهاء صلاحية الذاكرة، الإلغاء والحذف

يتطلب القانون العام لحماية البيانات (GDPR) "الحق في النسيان" والقوانين المشابهة الحذف في الوقت المناسب؛ لذلك يجب أن تدعم مخازن المتجهات أوقات الحياة المحددة (TTLs)، والحذف الصارم، ووضع الأوسمة (tomb-stoning) بحيث لا يمكن استعادة المتجهات الملغاة أو إعادة فهرستها.

|   #   | الوصف                                                                                                                                   | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.3.1 | تحقق من أن كل متجه وسجل بيانات وصفية يحمل مدة صلاحية مؤقتة (TTL) أو تسمية احتفاظ صريحة تُحترم بواسطة مهام التنظيف الآلي.                |    1    |  D/V  |
| 8.3.2 | تحقق من أن طلبات الحذف التي يبادر بها المستخدم تقوم بمسح المتجهات والبيانات الوصفية ونسخ التخزين المؤقت والفهارس المشتقة خلال 30 يومًا. |    1    |  D/V  |
| 8.3.3 | تحقق من أن عمليات الحذف المنطقي تليها تمزيق تشفير كتلات التخزين إذا كان الجهاز يدعم ذلك، أو عن طريق تدمير مفتاح خزنة المفاتيح.          |    2    |   D   |
| 8.3.4 | تحقق من استبعاد المتجهات منتهية الصلاحية من نتائج البحث عن أقرب الجيران في أقل من 500 مللي ثانية بعد انتهاء صلاحيتها.                   |    3    |  D/V  |

---

## C8.4 منع انقلاب التضمين والتسرب

يمكن للدفاعات الحديثة—إضافة الضوضاء، شبكات الإسقاط، اضطراب الخلايا العصبية الخاصة بالخصوصية، وتشفير طبقة التطبيق—أن تخفض معدلات الانعكاس على مستوى الرموز إلى أقل من 5%.

|   #   | الوصف                                                                                                                                              | المستوى | الدور |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.4.1 | التحقق من وجود نموذج تهديد رسمي يشمل هجمات الانعكاس والهجمات على العضوية والهجمات على استنتاج الخصائص، وأن يتم مراجعته سنويًا.                     |    1    |   V   |
| 8.4.2 | تحقق من أن التشفير على مستوى طبقة التطبيق أو التشفير القابل للبحث يحمي المتجهات من القراءة المباشرة بواسطة مسؤولي البنية التحتية أو موظفي السحابة. |    2    |  D/V  |
| 8.4.3 | تحقق من أن معلمات الدفاع (ε لـ DP، الضوضاء σ، رتبة الإسقاط k) توازن بين الخصوصية ≥ 99٪ حماية الرموز والفائدة ≤ 3٪ خسارة الدقة.                     |    3    |   V   |
| 8.4.4 | تحقق من أن مقاييس مقاومة الانعكاس هي جزء من بوابات الإطلاق لتحديثات النماذج، مع تحديد ميزانيات الانحدار.                                           |    3    |  D/V  |

---

## C8.5 تطبيق نطاق الذاكرة المخصص للمستخدم

تسرب البيانات بين المستأجرين ما زال يشكل أعلى مخاطر RAG: يمكن لاستعلامات التشابه التي لم تُصفّى بشكل صحيح أن تكشف عن مستندات خاصة بعملاء آخرين.

|   #   | الوصف                                                                                                                                 | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.5.1 | تحقق من أن كل استعلام استرجاع يتم تصفيته بعد المعالجة بواسطة معرف المستأجر/المستخدم قبل تمريره إلى موجه نموذج اللغة الكبيرة (LLM).    |    1    |  D/V  |
| 8.5.2 | تحقق من أن أسماء المجموعات أو معرفات النطاقات تحتوي على ملح خاص بكل مستخدم أو مستأجر حتى لا تتصادم المتجهات عبر النطاقات.             |    1    |   D   |
| 8.5.3 | تأكد من أن نتائج التشابه التي تتجاوز عتبة المسافة القابلة للتكوين ولكنها خارج نطاق المتصل يتم تجاهلها وتؤدي إلى تفعيل تنبيهات الأمان. |    2    |  D/V  |
| 8.5.4 | تحقق من أن اختبارات الضغط متعددة المستأجرين تحاكي الاستعلامات العدائية التي تحاول استرجاع مستندات خارج النطاق وتثبت عدم حدوث أي تسرب. |    2    |   V   |
| 8.5.5 | تحقق من فصل مفاتيح التشفير لكل مستأجر، مما يضمن العزل التشفيري حتى في حالة مشاركة التخزين الفعلي.                                     |    3    |  D/V  |

---

## C8.6 أمان نظام الذاكرة المتقدم

ضوابط الأمان لهياكل الذاكرة المتقدمة بما في ذلك الذاكرة العرضية، والذاكرة الدلالية، والذاكرة العاملة مع متطلبات محددة للعزل والتحقق.

|   #   | الوصف                                                                                                                                                                                                              | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-----: | :---: |
| 8.6.1 | تحقق من أن أنواع الذاكرة المختلفة (الذاكرة العرضية، الذاكرة الدلالية، الذاكرة العاملة) تمتلك سياقات أمان معزولة مع ضوابط وصول مبنية على الأدوار، ومفاتيح تشفير منفصلة، وأنماط وصول موثقة لكل نوع من أنواع الذاكرة. |    1    |  D/V  |
| 8.6.2 | تحقق من أن عمليات دمج الذاكرة تشمل التحقق الأمني لمنع إدخال ذكريات خبيثة من خلال تطهير المحتوى، والتحقق من المصدر، وفحوصات السلامة قبل التخزين.                                                                    |    2    |  D/V  |
| 8.6.3 | تحقق من أن استعلامات استرجاع الذاكرة يتم التحقق من صحتها وتنقيتها لمنع استخراج المعلومات غير المصرح بها من خلال تحليل نمط الاستعلام، تنفيذ الرقابة على الوصول، وتصنيف النتائج.                                     |    2    |  D/V  |
| 8.6.4 | تحقق من أن آليات نسيان الذاكرة تقوم بحذف المعلومات الحساسة بشكل آمن مع ضمانات المحو التشفيري باستخدام حذف المفاتيح، أو الكتابة المتعددة المرات، أو الحذف الآمن المعتمد على العتاد مع شهادات التحقق.                |    3    |  D/V  |
| 8.6.5 | تحقق من أن سلامة نظام الذاكرة تتم مراقبتها باستمرار للكشف عن أي تعديلات أو تلف غير مصرح به من خلال استخدام التجزئات، وسجلات التدقيق، والتنبيهات الآلية عند حدوث تغييرات في محتوى الذاكرة خارج العمليات العادية.    |    3    |  D/V  |

---

## المراجع

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

