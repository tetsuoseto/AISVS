# أمن ذاكرة C8، والتضمينات، وقاعدة بيانات المتجهات

## هدف التحكم

تمثل التضمينات ومخازن المتجهات "الذاكرة الحية" لأنظمة الذكاء الاصطناعي المعاصرة، حيث تستقبل بيانات المستخدم باستمرار وتعيد طرحها في سياقات النموذج عبر التوليد المعزز بالاسترجاع (RAG). إذا تُركت هذه الذاكرة بدون حوكمة، فقد تتسرب معلومات التعريف الشخصية، أو تنتهك الموافقة، أو يمكن عكسها لإعادة بناء النص الأصلي. الهدف من هذه العائلة الرقابية هو تقوية خطوط أنابيب الذاكرة وقواعد بيانات المتجهات بحيث يكون الوصول بأقل امتياز ممكن، وتكون التضمينات مريحة للخصوصية، وتنتهي صلاحية المتجهات المخزنة أو يمكن إلغاؤها حسب الطلب، ولا تلوث ذاكرة كل مستخدم مطالبات أو تنتهي مستخدم آخر.

---

## C8.1 ضوابط الوصول على الذاكرة وفهارس RAG

فرض ضوابط وصول دقيقة على كل مجموعة من المتجهات.

|   #   | الوصف                                                                                                                                      | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------ | :-----: | :---: |
| 8.1.1 | تحقق من أن قواعد التحكم في الوصول على مستوى الصف/النطاق تحد من عمليات الإدراج والحذف والاستعلام حسب المستأجر أو المجموعة أو علامة المستند. |    1    |  D/V  |
| 8.1.2 | تحقق من أن مفاتيح API أو JWT تحمل مطالبات محددة النطاق (مثل معرفات المجموعات، أفعال الإجراءات) وأنها تُجدد على الأقل كل ثلاثة أشهر.        |    1    |  D/V  |
| 8.1.3 | تأكد من اكتشاف محاولات التصعيد الامتيازي (مثل استعلامات التشابه عبر النطاقات) وتسجيلها في نظام إدارة الأحداث الأمنية (SIEM) خلال 5 دقائق.  |    2    |  D/V  |
| 8.1.4 | تحقق من أن قاعدة بيانات المتجهات تسجل عمليات التدقيق للمعرّف الفرعي للموضوع، العملية، معرف/نطاق المتجه، عتبة التشابه، وعدد النتائج.        |    2    |  D/V  |
| 8.1.5 | تأكد من اختبار قرارات الوصول للتحقق من وجود ثغرات تجاوز كلما تم ترقية المحركات أو تغيير قواعد تقسيم الفهرس.                                |    3    |   V   |

---

## C8.2 تنظيف التضمين والتحقق منه

قم بفحص النص مسبقًا للبيانات الشخصية الحساسة (PII)، ثم قم بحذفها أو تمويهها قبل التحويل إلى متجهات، ويمكن أيضًا معالجة التضمينات لاحقًا لإزالة الإشارات المتبقية.

|   #   | الوصف                                                                                                                                                               | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.2.1 | تحقق من أن المعلومات الشخصية المعروفة (PII) والبيانات المنظمة يتم الكشف عنها بواسطة المصنفات التلقائية ويتم إخفاؤها أو تحويلها إلى رموز أو حذفها قبل عملية التضمين. |    1    |  D/V  |
| 8.2.2 | تحقق من أن أنابيب التضمين ترفض أو تعزل المدخلات التي تحتوي على كود قابل للتنفيذ أو على مواد غير بتنسيق UTF-8 قد تؤدي إلى تلوث الفهرس.                               |    1    |   D   |
| 8.2.3 | تحقق من تطبيق التثبيت المحلي أو متري لخصوصية التفاضل على تمثيلات الجمل التي تكون مسافتها إلى أي رمز PII معروف أقل من حد قابل للتكوين.                               |    2    |  D/V  |
| 8.2.4 | تحقق من أن فعالية التنقية (مثل استدعاء إخفاء المعلومات الشخصية، الانحراف الدلالي) يتم التحقق منها على الأقل نصف سنويًا مقابل مجموعات البيانات المرجعية.             |    2    |   V   |
| 8.2.5 | تحقق من أن إعدادات التنقية تحت التحكم الإصدار وأن التغييرات تخضع لمراجعة نظراء.                                                                                     |    3    |  D/V  |

---

## C8.3 انتهاء صلاحية الذاكرة، الإلغاء والحذف

تتطلب قوانين مثل اللائحة العامة لحماية البيانات (GDPR) "الحق في النسيان" الحذف في الوقت المناسب؛ لذلك يجب أن تدعم مخازن المتجهات ميزة مدة الحياة (TTL)، والحذف النهائي، وتعليم الحذف (tomb-stoning) حتى لا يمكن استرجاع المتجهات التي تم التراجع عنها أو إعادة فهرستها.

|   #   | الوصف                                                                                                                        | المستوى | الدور |
| :---: | ---------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.3.1 | تحقق من أن كل متجه وسجل بيانات وصفية يحملان TTL أو ملصق احتفاظ صريح يتم احترامه بواسطة مهام التنظيف التلقائية.               |    1    |  D/V  |
| 8.3.2 | تحقق من أن طلبات الحذف التي يبدأها المستخدم تقوم بمسح المتجهات والبيانات الوصفية ونسخ الكاش والفهارس المشتقة خلال 30 يومًا.  |    1    |  D/V  |
| 8.3.3 | تحقق من أن الحذف المنطقي يتبعه تمزيق تشفير كتل التخزين إذا كان العتاد يدعم ذلك، أو عن طريق تدمير مفتاح قبو المفاتيح.         |    2    |   D   |
| 8.3.4 | تحقق من استبعاد المتجهات المنتهية الصلاحية من نتائج البحث عن أقرب الجيران في غضون أقل من 500 مللي ثانية بعد انتهاء الصلاحية. |    3    |  D/V  |

---

## C8.4 منع عكس التضمين وتسربه

الدفاعات الحديثة—إضافة الضوضاء، شبكات الإسقاط، تعديل الخلايا العصبية المتعلقة بالخصوصية، وتشفير طبقة التطبيق—يمكن أن تخفض معدلات الانعكاس على مستوى الرموز إلى أقل من 5%.

|   #   | الوصف                                                                                                                                              | المستوى | الدور |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.4.1 | تأكيد وجود نموذج تهديد رسمي يشمل هجمات الانعكاس، وانتماء العضوية، والاستنتاج السِماتي ويتم مراجعته سنويًا.                                         |    1    |   V   |
| 8.4.2 | تحقق من أن التشفير على مستوى طبقة التطبيق أو التشفير القابل للبحث يحمي المتجهات من القراءة المباشرة بواسطة مسؤولي البنية التحتية أو موظفي السحابة. |    2    |  D/V  |
| 8.4.3 | تحقق من أن معلمات الدفاع (ε لـ DP، الضوضاء σ، رتبة الإسقاط k) توازن بين الخصوصية ≥ 99% حماية الرموز والفائدة ≤ 3% فقدان الدقة.                     |    3    |   V   |
| 8.4.4 | تحقق من أن مقاييس مقاومة الانعكاس جزء من معايير الإصدار لتحديثات النماذج، مع تحديد ميزانيات الانحدار.                                              |    3    |  D/V  |

---

## C8.5 فرض نطاق التنفيذ للذاكرة الخاصة بالمستخدم

تسرب البيانات بين المستأجرين يظل أحد أهم مخاطر RAG: استعلامات التشابه التي لم يتم تصفيتها بشكل صحيح قد تكشف عن مستندات خاصة بعميل آخر.

|   #   | الوصف                                                                                                                                   | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.5.1 | تحقق من أن كل استعلام استرجاع يتم تنقيحه بعد المعالجة بواسطة معرف المستأجر/المستخدم قبل تمريره إلى موجه نموذج اللغة الكبير (LLM).       |    1    |  D/V  |
| 8.5.2 | تحقق من أن أسماء المجموعات أو معرفات النطاقات تحتوي على ملح (salted) لكل مستخدم أو مستأجر بحيث لا يمكن تصادم المتجهات عبر النطاقات.     |    1    |   D   |
| 8.5.3 | تحقق من أن نتائج التشابه التي تتجاوز عتبة المسافة القابلة للتهيئة ولكنها تقع خارج نطاق المتصل يتم تجاهلها وتؤدي إلى إطلاق تنبيهات أمان. |    2    |  D/V  |
| 8.5.4 | تحقق من أن اختبارات الضغط متعددة المستأجرين تحاكي استفسارات عدائية تحاول استرجاع وثائق خارج النطاق وتثبت عدم وجود أي تسرب.              |    2    |   V   |
| 8.5.5 | تحقق من أن مفاتيح التشفير مفصولة لكل مستأجر، مما يضمن العزل التشفيري حتى إذا تم مشاركة التخزين المادي.                                  |    3    |  D/V  |

---

## C8.6 نظام أمان الذاكرة المتقدم

ضوابط الأمان للهياكل المعقدة للذاكرة بما في ذلك الذاكرة العرضية، والذاكرة الدلالية، والذاكرة العاملة مع متطلبات محددة للعزل والتحقق.

|   #   | الوصف                                                                                                                                                                                                                              | المستوى | الدور |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 8.6.1 | تحقق من أن أنواع الذاكرة المختلفة (التذكير العرضي، الدلالي، والوظيفي) لديها سياقات أمان معزولة مع ضوابط وصول قائمة على الأدوار، مفاتيح تشفير منفصلة، وأنماط وصول موثقة لكل نوع ذاكرة.                                              |    1    |  D/V  |
| 8.6.2 | تحقق من أن عمليات ترسيخ الذاكرة تشمل التحقق من الأمان لمنع إدخال ذكريات خبيثة من خلال تنقية المحتوى، والتحقق من المصدر، وفحوصات السلامة قبل التخزين.                                                                               |    2    |  D/V  |
| 8.6.3 | تحقق من أن استعلامات استرجاع الذاكرة تتم مراجعتها وتنقيتها لمنع استخراج المعلومات غير المصرح بها من خلال تحليل نمط الاستعلام، وفرض ضوابط الوصول، وتصفيه النتائج.                                                                   |    2    |  D/V  |
| 8.6.4 | تحقق من أن آليات نسيان الذاكرة تحذف المعلومات الحساسة بشكل آمن مع ضمانات محو التشفير باستخدام حذف المفتاح، أو الكتابة المتعددة المراحل، أو الحذف الآمن المعتمد على الأجهزة مع شهادات التحقق.                                       |    3    |  D/V  |
| 8.6.5 | تحقق من أن تكامل نظام الذاكرة يتم مراقبته باستمرار لاكتشاف التعديلات أو التلف غير المصرح بها من خلال استخدام مجموعات التحقق (checksums)، سجلات التدقيق، والتنبيهات الآلية عند حدوث تغييرات في محتوى الذاكرة خارج العمليات العادية. |    3    |  D/V  |

---

## المراجع

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

