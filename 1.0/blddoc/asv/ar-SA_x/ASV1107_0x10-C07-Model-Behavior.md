# سلوك نموذج C7، التحكم في الناتج وضمان السلامة

## هدف التحكم

يجب أن تكون مخرجات النماذج منظمة وموثوقة وآمنة وقابلة للتفسير وتتم مراقبتها باستمرار في بيئة الإنتاج. يؤدي ذلك إلى تقليل الهلوسات وتسريبات الخصوصية والمحتوى الضار والإجراءات غير المتوقعة، مع زيادة ثقة المستخدم والامتثال التنظيمي.

---

## C7.1 فرض تنسيق الإخراج

توقف المخططات الصارمة، وفك التشفير المقيد، والتحقق اللاحق المحتوى المشوه أو الضار قبل أن ينتشر.

|   #   | الوصف                                                                                                                                                           | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.1.1 | تحقق من أن مخططات الاستجابة (مثل مخطط JSON) مُدرجة في موجه النظام وأن كل مخرج يتم التحقق من صحته تلقائيًا؛ حيث تؤدي المخرجات غير المطابقة إلى الإصلاح أو الرفض. |    1    |  D/V  |
| 7.1.2 | تحقق من تمكين فك التشفير المقيد (رموز التوقف، التعبيرات النمطية، الحد الأقصى لعدد الرموز) لمنع فيض البيانات أو قنوات جانبية في حقن المطالبات.                   |    1    |  D/V  |
| 7.1.3 | تحقق من أن المكونات التالية تتعامل مع المخرجات على أنها غير موثوقة وتقوم بالتحقق منها وفقًا للمخططات أو من خلال فك التسلسل الآمن من الحقن.                      |    2    |  D/V  |
| 7.1.4 | تحقق من تسجيل أحداث الإخراج غير الصحيح، وتحديد معدل حدوثها، وعرضها في المراقبة.                                                                                 |    3    |   V   |

---

## C7.2 الكشف عن الهلوسة وتقليلها

تقدير عدم اليقين واستراتيجيات التراجع يحدان من الإجابات المختلقة.

|   #   | الوصف                                                                                                                                                           | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.2.1 | تحقق من أن احتمالات السجل على مستوى الرموز، التوافق الذاتي للجمع، أو كاشفات الهلوسة المدربة بدقة تعطي تقييم ثقة لكل إجابة.                                      |    1    |  D/V  |
| 7.2.2 | تحقق من أن الردود التي تقل عن عتبة الثقة القابلة للتكوين تُفعّل تدفقات العمل الاحتياطية (مثل التوليد المدعوم بالاستخراج، النموذج الثانوي، أو المراجعة البشرية). |    1    |  D/V  |
| 7.2.3 | تحقق من أن حوادث الهلوسة مُوسومة ببيانات تعريف سبب الجذر ومُدخلة إلى خطوط أنابيب تحليل ما بعد الحادث والتعديل الدقيق.                                           |    2    |  D/V  |
| 7.2.4 | تحقق من إعادة معايرة العتبات والكواشف بعد التحديثات الكبيرة للنموذج أو قاعدة المعرفة.                                                                           |    3    |  D/V  |
| 7.2.5 | تحقق من أن تصورات لوحة المعلومات تتتبع معدلات الهلوسة.                                                                                                          |    3    |   V   |

---

## C7.3 تصفية الأمان والخصوصية للإخراج

تعمل فلاتر السياسات وتغطية الفريق الأحمر على حماية المستخدمين والبيانات السرية.

|   #   | الوصف                                                                                                                                                                        | المستوى | الدور |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.3.1 | تحقق من أن المصنفات قبل وبعد التوليد تحجب المحتوى الذي يحض على الكراهية والتحرش وإيذاء النفس والتطرف والمحتوى الجنسي الصريح بما يتماشى مع السياسة.                           |    1    |  D/V  |
| 7.3.2 | تحقق من أن الكشف عن المعلومات الشخصية الحساسة (PII) وبيانات بطاقة الدفع (PCI) والحجب التلقائي يتم تشغيلهما في كل استجابة؛ حيث تؤدي الانتهاكات إلى رفع حادثة تتعلق بالخصوصية. |    1    |  D/V  |
| 7.3.3 | تحقق من أن علامات السرية (مثل الأسرار التجارية) تنتقل عبر الوسائط المختلفة لمنع التسرب في النصوص أو الصور أو الشيفرة.                                                        |    2    |   D   |
| 7.3.4 | تحقق من أن محاولات تجاوز الفلتر أو التصنيفات عالية الخطورة تتطلب موافقة ثانوية أو إعادة مصادقة المستخدم.                                                                     |    3    |  D/V  |
| 7.3.5 | تحقق من أن عتبات التصفية تعكس الأطر القانونية للنطاقات القضائية وسياق عمر/دور المستخدم.                                                                                      |    3    |  D/V  |

---

## C7.4 الحد من الإخراج والإجراءات

تقييدات المعدل وأبواب الموافقة تمنع الإساءة والاستقلالية المفرطة.

|   #   | الوصف                                                                                                                       | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.4.1 | تحقق من أن الحصص لكل مستخدم ولكل مفتاح API تقيد الطلبات، والرموز، والتكلفة مع التراجع الأسي عند أخطاء 429.                  |    1    |   D   |
| 7.4.2 | تحقق من أن الإجراءات المميزة (كتابة الملفات، تنفيذ الشيفرة، المكالمات الشبكية) تتطلب موافقة قائمة على السياسة أو تدخل بشري. |    1    |  D/V  |
| 7.4.3 | تحقق من أن فحوصات التناسق عبر الوسائط تضمن عدم إمكانية استخدام الصور، الشيفرة، والنص المولدة لنفس الطلب لتهريب محتوى خبيث.  |    2    |  D/V  |
| 7.4.4 | تأكد من أن عمق تفويض الوكيل، وحدود التكرار، وقوائم الأدوات المسموح بها تم تكوينها صراحةً.                                   |    2    |   D   |
| 7.4.5 | تحقق من أن تجاوز الحدود يُصدر أحداث أمان مُنظمة لعمليات استيعاب SIEM.                                                       |    3    |   V   |

---

## C7.5 قابلية شرح المخرجات

الإشارات الشفافة تحسن ثقة المستخدم وتصحيح الأخطاء الداخلي.

|   #   | الوصف                                                                                                            | المستوى | الدور |
| :---: | ---------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.5.1 | تحقق من أن درجات الثقة الموجهة للمستخدم أو ملخصات التفكير المختصرة معروضة عندما يرى تقييم المخاطر ذلك مناسبًا.   |    2    |  D/V  |
| 7.5.2 | تحقق من أن التفسيرات المولدة تتجنب الكشف عن مطالبات النظام الحساسة أو البيانات المملوكة.                         |    2    |  D/V  |
| 7.5.3 | تحقق من أن النظام يلتقط احتمالات السجل على مستوى الرموز أو خرائط الانتباه ويخزنها للفحص المصرح به.               |    3    |   D   |
| 7.5.4 | تأكد من أن القطع الأثرية المتعلقة بالتفسير تحت إدارة نسخ التحكم جنبًا إلى جنب مع إصدارات النموذج لأغراض التدقيق. |    3    |   V   |

---

## C7.6 تكامل الرصد

تُغلق الرصد في الوقت الفعلي الحلقة بين التطوير والإنتاج.

|   #   | الوصف                                                                                                                                 | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.6.1 | تحقق من أن المقاييس (انتهاكات المخطط، معدل الهلوسة، السمية، تسريبات المعلومات الشخصية، الكمون، التكلفة) تتدفق إلى منصة مراقبة مركزية. |    1    |   D   |
| 7.6.2 | تحقق من تحديد عتبات التنبيه لكل مقياس سلامة، مع وجود مسارات تصعيد للمكالمة عند الحاجة.                                                |    1    |   V   |
| 7.6.3 | تحقق من أن لوحات المعلومات تربط الشذوذات في الإخراج بنموذج/الإصدار، وعلم الميزات، وتغييرات البيانات upstream.                         |    2    |   V   |
| 7.6.4 | تحقق من أن بيانات المراقبة تعود إلى عمليات إعادة التدريب أو الضبط الدقيق أو تحديث القواعد ضمن سير عمل MLOps موثق.                     |    2    |  D/V  |
| 7.6.5 | تحقق من أن خطوط أنابيب المراقبة قد تم اختبارها ضد الاختراق وتخضع للتحكم في الوصول لتجنب تسرب السجلات الحساسة.                         |    3    |   V   |

---

## 7.7 ضوابط أمان الوسائط التوليدية

ضمان ألا تقوم أنظمة الذكاء الاصطناعي بإنتاج محتوى وسائط غير قانوني أو ضار أو غير مصرح به من خلال تطبيق قيود السياسات، والتحقق من صحة المخرجات، وقابلية التتبع.

|   #   | الوصف                                                                                                                                                                  | المستوى | الدور |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.7.1 | تحقق من أن موجهات النظام وتعليمات المستخدم تمنع بشكل صريح توليد الوسائط العميقة المزيفة غير القانونية أو الضارة أو غير المتفق عليها (مثل الصور، الفيديو، الصوت).       |    1    |  D/V  |
| 7.7.2 | تحقق من أن التعليمات تتم تصفيتها لمنع المحاولات التي تهدف إلى توليد انتحال شخصية، أو الخدع الجنسية الصريحة، أو الوسائط التي تصوّر أفراداً حقيقيين دون موافقتهم.        |    2    |  D/V  |
| 7.7.3 | تحقق من أن النظام يستخدم التجزئة الإدراكية، اكتشاف العلامات المائية، أو البصمة لمنع النسخ غير المصرح به للوسائط المحمية بحقوق الطبع والنشر.                            |    2    |   V   |
| 7.7.4 | تحقق من أن جميع الوسائط المولدة موقعة تشفيرياً، أو تحتوي على علامة مائية، أو مضمنة ببيانات أصول مقاومة للتلاعب لضمان إمكانية تتبعها في المستقبل.                       |    3    |  D/V  |
| 7.7.5 | تحقق من اكتشاف محاولات التحايل (مثل إخفاء الطلب، استخدام اللغة العامية، الصياغة العدائية)، وتسجيلها، وتحديد معدل حدوثها؛ ويتم إعلام أنظمة المراقبة بالإساءات المتكررة. |    3    |   V   |

## المراجع

* [NIST AI Risk Management Framework](https://www.nist.gov/itl/ai-risk-management-framework)
* [ISO/IEC 42001:2023 – AI Management System](https://www.iso.org/obp/ui/en/)
* [OWASP Top-10 for Large Language Model Applications (2025)](https://owasp.org/www-project-top-10-for-large-language-model-applications/)
* [Improper Output Handling – OWASP LLM05:2025](https://genai.owasp.org/llmrisk/llm052025-improper-output-handling/)
* [Practical Techniques to Constrain LLM Output](https://mychen76.medium.com/practical-techniques-to-constraint-llm-output-in-json-format-e3e72396c670)
* [Dataiku – Structured Text Generation Guide](https://blog.dataiku.com/your-guide-to-structured-text-generation)
* [VL-Uncertainty: Detecting Hallucinations](https://arxiv.org/abs/2411.11919)
* [HaDeMiF: Hallucination Detection & Mitigation](https://openreview.net/forum?id=VwOYxPScxB)
* [Building Confidence in LLM Outputs](https://www.alkymi.io/data-science-room/building-confidence-in-llm-outputs)
* [Explainable AI & LLMs](https://duncsand.medium.com/explainable-ai-140912d31b3b)
* [LLM Red-Teaming Guide](https://www.confident-ai.com/blog/red-teaming-llms-a-step-by-step-guide)
* [Sensitive Information Disclosure in LLMs](https://virtualcyberlabs.com/llm-sensitive-information-disclosure/)
* [LangChain – Chat Model Rate Limiting](https://python.langchain.com/docs/how_to/chat_model_rate_limiting/)
* [OpenAI Rate-Limit & Exponential Back-off](https://hackernoon.com/openais-rate-limit-a-guide-to-exponential-backoff-for-llm-evaluation)
* [Arize AI – LLM Observability Platform](https://arize.com/)

