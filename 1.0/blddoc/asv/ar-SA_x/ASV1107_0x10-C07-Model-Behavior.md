# سلوك نموذج C7، التحكم في المخرجات وضمان السلامة

## هدف التحكم

يجب أن تكون مخرجات النموذج منظمة، وموثوقة، وآمنة، وقابلة للتفسير، وتُراقب باستمرار أثناء الإنتاج. يؤدي ذلك إلى تقليل الهلوسات، وتسريبات الخصوصية، والمحتوى الضار، والإجراءات الخارجة عن السيطرة، مع زيادة ثقة المستخدم والامتثال التنظيمي.

---

## C7.1 فرض تنسيق المخرجات

توقف المخططات الصارمة، وفك الترميز المقيد، والتحقق اللاحق المحتوى المشوه أو الضار قبل انتشاره.

|   #   | الوصف                                                                                                                                                          | المستوى | الدور |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.1.1 | تحقق من توفير مخططات الاستجابة (مثل JSON Schema) في موجه النظام وأن يتم التحقق من صحة كل مخرجات تلقائيًا؛ حيث تؤدي المخرجات غير المطابقة إلى إصلاحها أو رفضها. |    1    |  D/V  |
| 7.1.2 | تحقق من تمكين فك التشفير المقيد (رموز التوقف، التعبيرات العادية، الحد الأقصى لعدد الرموز) لمنع الفائض أو قنوات الجانب الخاصة بحقن المطالبات.                   |    1    |  D/V  |
| 7.1.3 | تأكد من أن المكونات التالية تتعامل مع المخرجات باعتبارها غير موثوق بها وتقوم بالتحقق من صحتها مقابل المخططات أو المحللات الآمنة من الحقن.                      |    2    |  D/V  |
| 7.1.4 | تحقق من تسجيل أحداث الإخراج غير الصحيح، والحد من معدل حدوثها، وعرضها على أنظمة المراقبة.                                                                       |    3    |   V   |

---

## C7.2 الكشف عن الهلوسة والتخفيف منها

تقدير عدم اليقين واستراتيجيات التراجع تحد من الإجابات الملفقة.

|   #   | الوصف                                                                                                                                                                | المستوى | الدور |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.2.1 | تحقق من أن احتمالات السجل على مستوى الرموز، أو التناسق الذاتي للتجمع، أو كواشف الهلوسة المُدعمة بالتدريب الدقيق تعيّن درجة ثقة لكل إجابة.                            |    1    |  D/V  |
| 7.2.2 | تحقق من أن الردود التي تقل عن عتبة الثقة القابلة للتكوين تؤدي إلى تشغيل تدفقات العمل البديلة (مثل التوليد المدعوم بالاستخراج، النموذج الثانوي، أو المراجعة البشرية). |    1    |  D/V  |
| 7.2.3 | تحقق من وسم حوادث الهلوسة ببيانات تعريف السبب الجذري وإدخالها في خطوط أنابيب التحليل بعد الوفاة والتعديل الدقيق.                                                     |    2    |  D/V  |
| 7.2.4 | تحقق من إعادة معايرة العتبات والكواشف بعد التحديثات الكبرى للنموذج أو قاعدة المعرفة.                                                                                 |    3    |  D/V  |
| 7.2.5 | تحقق من أن تصورات لوحة التحكم تتعقب معدلات التوهم.                                                                                                                   |    3    |   V   |

---

## C7.3 تصفية السلامة والخصوصية للمخرجات

تعمل فلاتر السياسات وتغطية الفريق الأحمر على حماية المستخدمين والبيانات السرية.

|   #   | الوصف                                                                                                                                                                               | المستوى | الدور |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.3.1 | تحقق من أن المصنفات قبل وبعد التوليد تمنع المحتوى الكاره، والمضايقات، وإيذاء النفس، والمتطرف، والمحتوى الجنسي الصريح المتوافق مع السياسة.                                           |    1    |  D/V  |
| 7.3.2 | تأكد من أن الكشف عن المعلومات الشخصية الحساسة (PII) وبيانات بطاقة الدفع (PCI) بالإضافة إلى الحذف التلقائي يتم تنفيذهما على كل رد؛ حيث تؤدي الانتهاكات إلى رفع تقرير عن حادث خصوصية. |    1    |  D/V  |
| 7.3.3 | تحقق من أن علامات السرية (مثل الأسرار التجارية) تنتقل عبر الوسائط المختلفة لمنع التسرب في النصوص أو الصور أو الشيفرة.                                                               |    2    |   D   |
| 7.3.4 | تحقق من أن محاولات تجاوز الفلتر أو التصنيفات عالية المخاطر تتطلب موافقة ثانوية أو إعادة مصادقة المستخدم.                                                                            |    3    |  D/V  |
| 7.3.5 | تحقق من أن عتبات التصفية تعكس السلطات القانونية وسياق عمر/دور المستخدم.                                                                                                             |    3    |  D/V  |

---

## C7.4 تحديد الإخراج والإجراء

تحد من الحدود القصوى للطلبات وبوابات الموافقة سوء الاستخدام والاستقلالية المفرطة.

|   #   | الوصف                                                                                                                                  | المستوى | الدور |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.4.1 | تحقق من أن حصص الاستخدام لكل مستخدم ولكل مفتاح API تحد من الطلبات، والرموز، والتكلفة مع التراجع الأسّي عند حدوث أخطاء 429.             |    1    |   D   |
| 7.4.2 | تحقق من أن الإجراءات المميزة (كتابة الملفات، تنفيذ الأكواد، مكالمات الشبكة) تتطلب موافقة مستندة إلى سياسة أو تدخل بشري.                |    1    |  D/V  |
| 7.4.3 | تحقق من أن فحوصات التوافق متعددة الوسائط تضمن ألا يمكن استخدام الصور، الشيفرات، والنصوص التي يتم إنشاؤها لنفس الطلب لتهريب محتوى خبيث. |    2    |  D/V  |
| 7.4.4 | تحقق من أن عمق تفويض الوكيل، وحدود العودية، وقوائم الأدوات المسموح بها تم تكوينها صراحةً.                                              |    2    |   D   |
| 7.4.5 | تحقق من أن انتهاك الحدود يصدر أحداث أمان منظمة لعملية استيعاب SIEM.                                                                    |    3    |   V   |

---

## C7.5 شرح قابلية تفسير المخرجات

الإشارات الشفافة تحسن ثقة المستخدم وتصحيح الأخطاء الداخلي.

|   #   | الوصف                                                                                                       | المستوى | الدور |
| :---: | ----------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.5.1 | تأكد من عرض درجات الثقة الموجهة للمستخدم أو ملخصات التفكير الموجزة عندما يقر التقييم المخاطر بملاءمتها.     |    2    |  D/V  |
| 7.5.2 | تحقق من أن الشروحات المولدة تتجنب الكشف عن مطالبات النظام الحساسة أو البيانات الملكية.                      |    2    |  D/V  |
| 7.5.3 | تحقق من أن النظام يلتقط احتمالات السجل على مستوى الرموز أو خرائط الانتباه ويخزنها للفحص المصرح به.          |    3    |   D   |
| 7.5.4 | تحقق من أن قطع الشرح تكون خاضعة للتحكم في الإصدارات جنبًا إلى جنب مع إصدارات النماذج لضمان إمكانية التدقيق. |    3    |   V   |

---

## C7.6 دمج المراقبة

الرصد في الوقت الحقيقي يغلق الحلقة بين التطوير والإنتاج.

|   #   | الوصف                                                                                                                                         | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.6.1 | تحقق من أن المقاييس (انتهاكات المخطط، معدل الهلوسة، السمية، تسريبات المعلومات الشخصية المميزة، الكمون، التكلفة) تتدفق إلى منصة مراقبة مركزية. |    1    |   D   |
| 7.6.2 | تحقق من تحديد حدود التنبيه لكل مقياس أمان، مع وضع مسارات التصعيد للمكالمة عند الحاجة.                                                         |    1    |   V   |
| 7.6.3 | تحقق من أن لوحات البيانات تربط بين الشذوذات في المخرجات مع النموذج/الإصدار، وعلامة الميزة، وتغييرات البيانات الصاعدة.                         |    2    |   V   |
| 7.6.4 | تحقق من أن بيانات المراقبة تعود للتدريب من جديد، أو التعديل الدقيق، أو تحديث القواعد ضمن سير عمل MLOps موثق.                                  |    2    |  D/V  |
| 7.6.5 | تحقق من أن أنظمة مراقبة خطوط الأنابيب خضعت لاختبارات الاختراق وتم التحكم في الوصول إليها لتجنب تسرب السجلات الحساسة.                          |    3    |   V   |

---

## 7.7 تدابير الأمان للوسائط التوليدية

ضمان أن أنظمة الذكاء الاصطناعي لا تولد محتوى وسائط غير قانوني أو ضار أو غير مصرح به من خلال تطبيق قيود السياسات، والتحقق من صحة المخرجات، وقابلية التتبع.

|   #   | الوصف                                                                                                                                                                                 | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.7.1 | تحقق من أن تعليمات النظام وتعليمات المستخدم تحظر صراحةً إنشاء وسائط المزيّفة العميقة غير القانونية أو الضارة أو التي تتم بدون موافقة (مثل الصورة، الفيديو، الصوت).                    |    1    |  D/V  |
| 7.7.2 | تحقق من فلترة المطالبات لمنع المحاولات التي تهدف إلى توليد انتحال شخصيات، أو فيديوهات عميقة جنسية صريحة، أو وسائط تظهر أفراداً حقيقيين بدون موافقة.                                   |    2    |  D/V  |
| 7.7.3 | تحقق من أن النظام يستخدم التجزئة الإدراكية، أو الكشف عن العلامة المائية، أو بصمة الإصبع لمنع النسخ غير المصرح به للوسائط المحمية بحقوق الطبع والنشر.                                  |    2    |   V   |
| 7.7.4 | تحقق من أن جميع الوسائط المُولدة موقعة تشفيرياً، أو مرفقة بعلامة مائية، أو مضمنة ببيانات أصل مقاومة للتلاعب لضمان إمكانية تتبعها فيما بعد.                                            |    3    |  D/V  |
| 7.7.5 | تحقق من اكتشاف محاولات التجاوز (على سبيل المثال، إخفاء المطالبات، اللغة العامية، الصياغة العدائية)، وتسجيلها، وتقييد معدل حدوثها؛ ويتم عرض حالات الإساءة المتكررة على أنظمة المراقبة. |    3    |   V   |

## المراجع

* [NIST AI Risk Management Framework](https://www.nist.gov/itl/ai-risk-management-framework)
* [ISO/IEC 42001:2023 – AI Management System](https://www.iso.org/obp/ui/en/)
* [OWASP Top-10 for Large Language Model Applications (2025)](https://owasp.org/www-project-top-10-for-large-language-model-applications/)
* [Improper Output Handling – OWASP LLM05:2025](https://genai.owasp.org/llmrisk/llm052025-improper-output-handling/)
* [Practical Techniques to Constrain LLM Output](https://mychen76.medium.com/practical-techniques-to-constraint-llm-output-in-json-format-e3e72396c670)
* [Dataiku – Structured Text Generation Guide](https://blog.dataiku.com/your-guide-to-structured-text-generation)
* [VL-Uncertainty: Detecting Hallucinations](https://arxiv.org/abs/2411.11919)
* [HaDeMiF: Hallucination Detection & Mitigation](https://openreview.net/forum?id=VwOYxPScxB)
* [Building Confidence in LLM Outputs](https://www.alkymi.io/data-science-room/building-confidence-in-llm-outputs)
* [Explainable AI & LLMs](https://duncsand.medium.com/explainable-ai-140912d31b3b)
* [LLM Red-Teaming Guide](https://www.confident-ai.com/blog/red-teaming-llms-a-step-by-step-guide)
* [Sensitive Information Disclosure in LLMs](https://virtualcyberlabs.com/llm-sensitive-information-disclosure/)
* [LangChain – Chat Model Rate Limiting](https://python.langchain.com/docs/how_to/chat_model_rate_limiting/)
* [OpenAI Rate-Limit & Exponential Back-off](https://hackernoon.com/openais-rate-limit-a-guide-to-exponential-backoff-for-llm-evaluation)
* [Arize AI – LLM Observability Platform](https://arize.com/)

