# C7 سلوك النموذج، التحكم في الإخراج وضمان السلامة

## هدف الرقابة

مخرجات النموذج يجب أن تكون مُهيكلة وموثوقة وآمنة وقابلة للتفسير، وتخضع للمراقبة المستمرة في بيئة الإنتاج. القيام بذلك يقلل من الهلوسات وتسريبات الخصوصية والمحتوى الضار والسلوكيات الخارجة عن السيطرة، مع زيادة ثقة المستخدم والالتزام التنظيمي.

---

## C7.1 إنفاذ تنسيق الإخراج

المخططات الصارمة وفك الترميز المقيد والتحقق اللاحق توقف المحتوى المعيب أو الضار قبل أن ينتشر.

|   #   | الوصف                                                                                                                                                       | المستوى | الدور |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.1.1 | تحقق من أن مخططات الاستجابة (مثل مخطط JSON) مُزوَّدة في موجه النظام، وأن يتم التحقق تلقائيًا من كل إخراج؛ الإخراجات غير المطابقة تؤدي إلى الإصلاح أو الرفض. |    1    |  D/V  |
| 7.1.2 | تحقق من أن التوليد المقيد مفعل (رموز الإيقاف، التعبيرات النمطية، max-tokens) لمنع تجاوز السعة أو القنوات الجانبية المرتبطة بحقن المطالبات.                  |    1    |  D/V  |
| 7.1.3 | تحقق من أن المكونات التابعة تتعامل مع المخرجات كمخرجات غير موثوقة وتتحقق منها مقابل المخططات أو أدوات فك التسلسل الآمنة ضد الحقن.                           |    2    |  D/V  |
| 7.1.4 | تحقق من أن أحداث الإخراج غير الصحيح تُسجَّل وتُقيَّد بمعدل وتُعرض على أنظمة المراقبة.                                                                       |    3    |   V   |

---

## C7.2 الكشف عن الهلاوس والتخفيف منها

تقدير عدم اليقين واستراتيجيات الاحتياطي يحدّان من الإجابات المصطنعة.

|   #   | الوصف                                                                                                                                                                     | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.2.1 | تحقق من أن احتمالات لوغاريتمية عند مستوى التوكن، والتوافق الذاتي للنظام التجميعي، وكاشفات الهلوسة المدربة بعناية تمنح درجة ثقة لكل إجابة.                                 |    1    |  D/V  |
| 7.2.2 | تحقق من أن الاستجابات التي تقع تحت عتبة الثقة القابلة للتكوين تُفعِّل مسارات العمل البديلة (على سبيل المثال، التوليد المعزز بالاسترجاع، أو نموذج ثانوي، أو مراجعة بشرية). |    1    |  D/V  |
| 7.2.3 | تحقق من أن حوادث الهلوسة موسومة ببيانات السبب الجذري وتُغذّى إلى خطوط أنابيب تحليل ما بعد الحدث وخطوط أنابيب الضبط الدقيق.                                                |    2    |  D/V  |
| 7.2.4 | تحقق من إعادة معايرة العتبات والكاشفات بعد تحديثات كبيرة للنموذج أو قاعدة المعرفة.                                                                                        |    3    |  D/V  |
| 7.2.5 | تأكد من أن المرئيات في لوحة البيانات تتبع معدلات الهلاوس.                                                                                                                 |    3    |   V   |

---

## C7.3 تصفية السلامة والخصوصية للمخرجات

فلاتر السياسات وتغطية الفريق الأحمر تحمي المستخدمين والبيانات السرية.

|   #   | الوصف                                                                                                                                                               | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.3.1 | تحقق من أن مصنفات ما قبل التوليد وما بعد التوليد تحجب المحتوى الذي يتضمن خطاب الكراهية والمضايقة وإيذاء النفس والتطرف والمحتوى الجنسي الصريح بما يتماشى مع السياسة. |    1    |  D/V  |
| 7.3.2 | تحقق من أن كشف PII/PCI والإخفاء التلقائي يتم في كل استجابة؛ المخالفات تثير حادثة خصوصية.                                                                            |    1    |  D/V  |
| 7.3.3 | تحقق من أن علامات السرية (على سبيل المثال، الأسرار التجارية) تنتشر عبر الوسائط المتعددة لمنع التسرب في النصوص والصور والشفرة.                                       |    2    |   D   |
| 7.3.4 | تأكد من أن محاولات تجاوز الفلتر أو التصنيفات عالية المخاطر تتطلب موافقة ثانوية أو إعادة المصادقة للمستخدم.                                                          |    3    |  D/V  |
| 7.3.5 | تحقق من أن حدود التصفية تعكس الاختصاصات القانونية وسياق عمر المستخدم ودوره.                                                                                         |    3    |  D/V  |

---

## C7.4 الإخراج وتقييد الإجراءات

قيود المعدل وبوابات الموافقة تمنع إساءة الاستخدام والاستقلالية المفرطة.

|   #   | الوصف                                                                                                                                                     | المستوى | الدور |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.4.1 | تحقق من أن الحصص لكل مستخدم ولكل مفتاح API تقيد الطلبات والتوكنات والتكلفة مع التأخير الأسي عند أخطاء 429.                                                |    1    |   D   |
| 7.4.2 | تحقق من أن الإجراءات ذات الامتياز (كتابة الملفات، تنفيذ التعليمات البرمجية، استدعاءات الشبكة) تتطلب موافقة قائمة على السياسات أو التدخل البشري في الحلقة. |    1    |  D/V  |
| 7.4.3 | تحقق من أن فحوصات الاتساق عبر الوسائط تضمن أن الصور والكود والنص الناتجون عن نفس الطلب لا يمكن استخدامها لتهريب محتوى ضار.                                |    2    |  D/V  |
| 7.4.4 | تحقق من أن عمق تفويض الوكيل، وحدود الاستدعاء العودي، وقوائم الأدوات المسموح بها محددة بشكل صريح.                                                          |    2    |   D   |
| 7.4.5 | تحقق من أن انتهاك الحدود يُصدر أحداث أمان مُهيكلة لاستيعابها في SIEM.                                                                                     |    3    |   V   |

---

## C7.5 قابلية تفسير المخرجات

الإشارات الشفافة تعزز ثقة المستخدم وتسهّل التصحيح الداخلي.

|   #   | الوصف                                                                                                         | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------- | :-----: | :---: |
| 7.5.1 | تحقق من أن درجات الثقة المعروضة للمستخدم أو ملخصات الاستدلال الموجزة تُعرض عندما يعتبر تقييم المخاطر مناسباً. |    2    |  D/V  |
| 7.5.2 | تحقق من أن التفسيرات المُولَّدة لا تكشف عن موجهات النظام الحساسة أو البيانات الملكية.                         |    2    |  D/V  |
| 7.5.3 | تأكد من أن النظام يلتقط احتمالات لوغاريتمية على مستوى الرموز أو خرائط الانتباه ويخزّنها للمراجعة المصرّح بها. |    3    |   D   |
| 7.5.4 | تحقق من أن مخرجات التفسير مُدارَة بنسخ الإصدارات جنبًا إلى جنب مع إصدارات النماذج لأغراض التدقيق.             |    3    |   V   |

---

## C7.6 تكامل الرصد

المراقبة في الوقت الفعلي تغلق الحلقة بين التطوير والإنتاج.

|   #   | الوصف                                                                                                                          | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------ | :-----: | :---: |
| 7.6.1 | تحقق من أن المقاييس (انتهاكات المخطط، معدل الهلوسة، السمية، تسريبات PII، زمن الاستجابة، التكلفة) تتدفق إلى منصة مراقبة مركزية. |    1    |   D   |
| 7.6.2 | تحقق من أن عتبات الإنذار محددة لكل مقياس سلامة، مع مسارات التصعيد أثناء المناوبة أيضًا.                                        |    1    |   V   |
| 7.6.3 | تحقق من أن لوحات المعلومات تُظهر ارتباط الشذوذات الناتجة بالنموذج/الإصدار، وعلم الميزة، وتغييرات البيانات المصدرية.            |    2    |   V   |
| 7.6.4 | تحقق من أن بيانات الرصد تغذّي عمليات إعادة التدريب أو الضبط الدقيق أو تحديثات القواعد ضمن سير عمل MLOps موثق.                  |    2    |  D/V  |
| 7.6.5 | تحقق من أن خطوط الرصد قد خضعت لاختبار الاختراق وتخضع لضوابط وصول لتجنب تسرب السجلات الحساسة.                                   |    3    |   V   |

---

## 7.7 ضمانات الوسائط التوليدية

تأكد من أن أنظمة الذكاء الاصطناعي لا تولد محتوى إعلامي غير قانوني أو ضار أو غير مصرح به من خلال فرض قيود السياسة والتحقق من المخرجات والتتبع.

|   #   | الوصف                                                                                                                                                                    | المستوى | الدور |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-----: | :---: |
| 7.7.1 | تحقق من أن إشعارات النظام وتعليمات المستخدم تحظر صراحة توليد الوسائط المزيفة العميقة غير القانونية أو الضارة أو غير الموافق عليها (على سبيل المثال، صورة، فيديو، صوت).   |    1    |  D/V  |
| 7.7.2 | تأكد من أن المطالبات مُفلترة من محاولات توليد انتحال الهوية، أو ديب فايك جنسي صريح، أو وسائط تصور أشخاصًا حقيقيين بدون موافقتهم.                                         |    2    |  D/V  |
| 7.7.3 | تحقق من أن النظام يستخدم التجزئة الإدراكية أو كشف العلامة المائية أو بصمة رقمية لمنع إعادة إنتاج غير مصرح به لوسائط محمية بحقوق الطبع والنشر.                            |    2    |   V   |
| 7.7.4 | تحقق من أن جميع الوسائط المُولَّدة مُوقَّعة رقمياً، أو مُختومة بختم مائي، أو مدمجة ببيانات أصل مقاومة للعبث لتتبّعها في المراحل التالية.                                 |    3    |  D/V  |
| 7.7.5 | تحقق من أن محاولات التحايل على المطالب (مثل إخفاء المطالب، العامية، الصياغة العدائية) يتم اكتشافها وتسجيلها وتقييدها بمعدل؛ وتُعرض الإساءات المتكررة على أنظمة المراقبة. |    3    |   V   |

## المراجع

* [NIST AI Risk Management Framework](https://www.nist.gov/itl/ai-risk-management-framework)
* [ISO/IEC 42001:2023 – AI Management System](https://www.iso.org/obp/ui/en/)
* [OWASP Top-10 for Large Language Model Applications (2025)](https://owasp.org/www-project-top-10-for-large-language-model-applications/)
* [Improper Output Handling – OWASP LLM05:2025](https://genai.owasp.org/llmrisk/llm052025-improper-output-handling/)
* [Practical Techniques to Constrain LLM Output](https://mychen76.medium.com/practical-techniques-to-constraint-llm-output-in-json-format-e3e72396c670)
* [Dataiku – Structured Text Generation Guide](https://blog.dataiku.com/your-guide-to-structured-text-generation)
* [VL-Uncertainty: Detecting Hallucinations](https://arxiv.org/abs/2411.11919)
* [HaDeMiF: Hallucination Detection & Mitigation](https://openreview.net/forum?id=VwOYxPScxB)
* [Building Confidence in LLM Outputs](https://www.alkymi.io/data-science-room/building-confidence-in-llm-outputs)
* [Explainable AI & LLMs](https://duncsand.medium.com/explainable-ai-140912d31b3b)
* [LLM Red-Teaming Guide](https://www.confident-ai.com/blog/red-teaming-llms-a-step-by-step-guide)
* [Sensitive Information Disclosure in LLMs](https://virtualcyberlabs.com/llm-sensitive-information-disclosure/)
* [LangChain – Chat Model Rate Limiting](https://python.langchain.com/docs/how_to/chat_model_rate_limiting/)
* [OpenAI Rate-Limit & Exponential Back-off](https://hackernoon.com/openais-rate-limit-a-guide-to-exponential-backoff-for-llm-evaluation)
* [Arize AI – LLM Observability Platform](https://arize.com/)

